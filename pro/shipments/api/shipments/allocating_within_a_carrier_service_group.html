<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MKT96K5');</script>
    <!-- End Google Tag Manager -->
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Allocating Within A Carrier Service Group | Sorted Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Allocating Within A Carrier Service Group | Sorted Docs ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/c4a9dfb254.js" crossorigin="anonymous"></script>
  
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link rel="stylesheet" href="../../../../styles/theme-switcher.css">
  
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta id="docfx-style:rel" content="../../../../">
    <!--prevent caching the HTML-->
    <meta http-equiv="Cache-Control" content="max-age=31536000">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MKT96K5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar top-bar"></span>
                <span class="icon-bar middle-bar"></span>
                <span class="icon-bar bottom-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" src="../../../../images/sorted_logo.svg" height="auto" width="auto" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar"> 
              <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-switcher">
                  <input type="checkbox" id="theme-switcher">
                  <div class="slider round"></div>
                </label>
              </div> 
              <div>
                <form class="navbar-form navbar-right" role="search" id="search">
                    <div class="form-group">
                    <i class="fas fa-search"></i>
                    <input type="text" class="form-control" id="search-query" placeholder="Search our documentation..." autocomplete="off">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default custom">
            <div class="container">
                <div class="row row-nomargin">
                    <div class="hide-when-search col-sm-6" id="breadcrumb">
                        <div class="col-md-6">
                            <ul class="breadcrumb">
                            <li></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>      </header>
      <div class="container body-content">
        
        <div id="search-results" class="tech-docs">
        <div class="row">
            <div class="col-md-12">
                <button id="close-search" type="button" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;Back</button>
            </div>
        </div>
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10 docs-body" id="docfx-page-content">
            <article class="content wrap" id="_content" data-uid="pro-api-help-shipments-allocating-within-a-carrier-service-group">
<h1 id="allocating-within-a-carrier-service-group">Allocating Within a Carrier Service Group</h1>

<!-- Time to read article - render code -->
<!--
<div class="page-stats row visible-xs">
    <ul class="page-metadata">
        <li class="li-page-date">
            07/10/2020
        </li>
        <li class="li-time-to-read">
             ~6 minutes  to read
        </li>
    </ul>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <ul class="page-metadata">
        <li class="li-page-date">
            07/10/2020
        </li>
        <li class="li-time-to-read">
             ~6 minutes  to read
        </li>
        <li class="contributor-li">
            <img src="https://www.gravatar.com/avatar/75aba8f6bb41171675ba3ced4172e9cb.jpg?d=robohash" class="img-circle img-contributor" title="andy.walton@sorted.com"/>
            <span class="tooltip-text">andy.walton@sorted.com</span>
        </li>
    </ul>
</div>
-->

<div class="page-tags">
    <span class="glyphicon glyphicon-tags"></span>
    <ul class="tags">
        <li class="tag-search">v2</li>
        <li class="tag-search">shipments</li>
        <li class="tag-search">pro</li>
        <li class="tag-search">api</li>
        <li class="tag-search">allocation</li>
        <li class="tag-search">service group</li>
    </ul>
</div>

<p>Service groups enable you to specify a custom pool of carrier services to allocate a shipment from. This page explains how to <!--configure service groups, and how to-->use the <strong>Allocate Shipment with Service Group</strong> and <strong>Allocate with Service Group</strong> endpoints to allocate from within a specified shipping group.</p>
<hr>
<h2 id="what-is-a-carrier-service-group">What Is a Carrier Service Group?</h2>
<p>SortedPRO carrier service groups are user-defined pools of carrier services. They are designed to be used in conjunction with the <strong>Allocate Shipment with Service Group</strong> and <strong>Allocate with Service Group</strong> endpoints as a means of limiting the carrier services that a particular shipment could be allocated to.</p>
<p>For example, you might set up a group containing all services that will ship dangerous goods. You would then allocate within that group for all shipments involving dangerous items.</p>
<p>You can use any combination of carrier services in a carrier service group.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Carrier service groups are configured through the UI. For information on managing your carrier service groups, see the <a href="../../../guide/managing-carrier-services.md#managing-carrier-service-groups">Managing Carrier Service Groups</a> section of the Sorted Admin Portal Guide.</p>
</div>
<h2 id="allocating-a-single-shipment-with-a-carrier-service-group">Allocating a Single Shipment with a Carrier Service Group</h2>
<p>The <strong>Allocate Shipment with Service Group</strong> endpoint allocates a shipment with a carrier service from a specific carrier service group.</p>
<p>To call <strong>Allocate Shipment With Service Group</strong>, send a <code>PUT</code> request to <code>https://api.sorted.com/pro/shipments/{reference}/allocate/service_group/{group_ref}</code>, where <code>{reference}</code> is the unique reference for the shipment you want to allocate and <code>{group_ref}</code> is the <strong>Service Group Code</strong>  of the group you want to allocate within.</p>
<div class="NOTE">
<h5>Note</h5>
<p>You can look up the <strong>Service Group Code</strong> of a particular group by logging in to the Sorted Admin Portal and selecting <strong>Settings &gt; Carrier Service Groups</strong>. This UI page displays details of your available groups, including their <strong>Code</strong>.</p>
</div>
<p>Once the request is received, PRO uses shipping rules to eliminate any carrier services in the group that would not be suitable to take the shipment, allocates the shipment to the cheapest remaining service, and returns an Allocate Result.</p>
<div class="NOTE">
<h5>Note</h5>
<p>For information on using shipping rules, see the <a href="allocating_shipments.html#what-is-a-shipping-rule">What Is a Shipping Rule?</a> section of the <a href="allocating_shipments.html">Allocating Shipments</a> page.</p>
</div>
<p>All PRO endpoints that allocate consignments individually return an Allocate Result object. The Allocate Result contains details of:</p>
<ul>
<li>The shipment's current <code>state</code> following the allocation request. For successful requests this would generally be <em>Allocated</em>.</li>
<li>The carrier and service that the shipment was allocated to.</li>
<li>The <code>price</code> of the allocation.</li>
<li>Any relevant tracking references.</li>
<li>The services that were unable to provide a quote.</li>
<li>The <code>shipping_date</code> and <code>expected_delivery_date</code> for the shipment.</li>
</ul>
<h3 id="allocate-shipment-with-service-group-example">Allocate Shipment with Service Group Example</h3>
<p>The example shows a successful request to allocate a shipment with a <code>{reference}</code> of <em>sp_00794403010635468411384028069888</em> within a group that has a <code>{group_ref}</code> of <em>valuableGoods</em>.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_allocate-shipment-with-service-group-request" role="tab" aria-controls="tabpanel_bHGHmlrG6S_allocate-shipment-with-service-group-request" data-tab="allocate-shipment-with-service-group-request" tabindex="0" aria-selected="true">Allocate Shipment With Service Group Request</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_allocate-shipment-with-service-group-response" role="tab" aria-controls="tabpanel_bHGHmlrG6S_allocate-shipment-with-service-group-response" data-tab="allocate-shipment-with-service-group-response" tabindex="-1">Allocate Shipment With Service Group Response</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S_allocate-shipment-with-service-group-request" role="tabpanel" data-tab="allocate-shipment-with-service-group-request">

<pre><code class="lang-json">PUT https://api.sorted.com/pro/shipments/sp_00794403010635468411384028069888/allocate/service_group/valuableGoods
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S_allocate-shipment-with-service-group-response" role="tabpanel" data-tab="allocate-shipment-with-service-group-response" aria-hidden="true" hidden="hidden">

<pre><code class="lang-json">{
    &quot;shipment_reference&quot;: &quot;sp_00794403010635468411384028069888&quot;,
    &quot;state&quot;: &quot;allocated&quot;,
    &quot;price&quot;: {
        &quot;net&quot;: 2.00,
        &quot;gross&quot;: 2.00,
        &quot;taxes&quot;: [
            {
                &quot;rate&quot;: {
                    &quot;reference&quot;: &quot;FF_LINET-00001&quot;,
                    &quot;country_iso_code&quot;: &quot;GB&quot;,
                    &quot;type&quot;: &quot;Zero&quot;,
                    &quot;value&quot;: 0.0000
                },
                &quot;amount&quot;: 0.000000
            }
        ],
        &quot;currency&quot;: &quot;GBP&quot;
    },
    &quot;message&quot;: &quot;Shipment sp_00794403010635468411384028069888 has been allocated successfully&quot;,
    &quot;carrier&quot;: {
        &quot;reference&quot;: &quot;FF_LINET&quot;,
        &quot;name&quot;: &quot;Lineten&quot;,
        &quot;service_reference&quot;: &quot;FF_LINET-00001&quot;,
        &quot;service_name&quot;: &quot;Lineten - Standard On Demand&quot;
    },
    &quot;tracking_details&quot;: {
        &quot;shipment&quot;: {
            &quot;reference&quot;: &quot;sp_00794403010635468411384028069888&quot;,
            &quot;tracking_references&quot;: [
                &quot;43765709&quot;
            ]
        },
        &quot;contents&quot;: []
    },
    &quot;_links&quot;: [
        {
            &quot;href&quot;: &quot;https://api-int.sorted.com/pro/shipments/sp_00794403010635468411384028069888&quot;,
            &quot;rel&quot;: &quot;shipment&quot;,
            &quot;reference&quot;: &quot;sp_00794403010635468411384028069888&quot;,
            &quot;type&quot;: &quot;shipment&quot;
        },
        {
            &quot;href&quot;: &quot;https://api-int.sorted.com/pro/labels/sp_00794403010635468411384028069888/pdf&quot;,
            &quot;rel&quot;: &quot;label&quot;,
            &quot;reference&quot;: &quot;sp_00794403010635468411384028069888&quot;,
            &quot;type&quot;: &quot;label&quot;
        },
        {
            &quot;href&quot;: &quot;https://api-int.sorted.com/pro/labels/sp_00794403010635468411384028069888/zpl&quot;,
            &quot;rel&quot;: &quot;label&quot;,
            &quot;reference&quot;: &quot;sp_00794403010635468411384028069888&quot;,
            &quot;type&quot;: &quot;label&quot;
        }
    ],
    &quot;correlation_id&quot;: &quot;7a53f7c4-836f-4a46-9d67-be1cadaaf7c2.SAPI_51eda51d-3efc-4afa-a8b4-47fc826420cf&quot;,
    &quot;details&quot;: [],
    &quot;excluded_services&quot;: [
        {
            &quot;carrier&quot;: {
                &quot;reference&quot;: &quot;FF_DPD_1200_103384&quot;,
                &quot;name&quot;: &quot;DPD 12:00 (Parcel)&quot;,
                &quot;service_reference&quot;: &quot;FF_103384_DPD&quot;,
                &quot;service_name&quot;: &quot;DPD&quot;
            },
            &quot;exclusion&quot;: {
                &quot;reason&quot;: &quot;Service delivery is later than selected service&quot;,
                &quot;code&quot;: &quot;ex_rates&quot;
            }
        },
        {
            &quot;carrier&quot;: {
                &quot;reference&quot;: &quot;FF_DPD_Next_Day_103386&quot;,
                &quot;name&quot;: &quot;DPD Next Day (Parcel)&quot;,
                &quot;service_reference&quot;: &quot;FF_103386_DPD&quot;,
                &quot;service_name&quot;: &quot;DPD&quot;
            },
            &quot;exclusion&quot;: {
                &quot;reason&quot;: &quot;Service delivery is later than selected service&quot;,
                &quot;code&quot;: &quot;ex_rates&quot;
            }
        },
        {
            &quot;carrier&quot;: {
                &quot;reference&quot;: &quot;FF_DPD_Sunday_103386&quot;,
                &quot;name&quot;: &quot;DPD Sunday (Parcel)&quot;,
                &quot;service_reference&quot;: &quot;FF_103386_DPD&quot;,
                &quot;service_name&quot;: &quot;DPD&quot;
            },
            &quot;exclusion&quot;: {
                &quot;reason&quot;: &quot;Service delivery is later than selected service&quot;,
                &quot;code&quot;: &quot;ex_rates&quot;
            }
        },
        {
            &quot;carrier&quot;: {
                &quot;reference&quot;: &quot;FF_DPD_Two_Day_103386&quot;,
                &quot;name&quot;: &quot;DPD Two Day (Parcel)&quot;,
                &quot;service_reference&quot;: &quot;FF_103386_DPD&quot;,
                &quot;service_name&quot;: &quot;DPD&quot;
            },
            &quot;exclusion&quot;: {
                &quot;reason&quot;: &quot;Service delivery is later than selected service&quot;,
                &quot;code&quot;: &quot;ex_rates&quot;
            }
        }
    ]
}
</code></pre>
</section>
</div>

<div class="NOTE">
<h5>Note</h5>
<p>For full reference information on the <strong>Allocate Shipment with Service Group</strong> endpoint, see the <a href="/pro/api/reference/shipments.html#tag/Allocation/paths/%7E1shipments%7E1%7BshipmentReference%7D%7E1allocate%7E1service_group%7E1%7BgroupReference%7D/put">PRO v2 API reference</a>.</p>
</div>
<h2 id="allocating-multiple-shipments-with-a-carrier-service-group">Allocating Multiple Shipments with a Carrier Service Group</h2>
<p>The <strong>Allocate with Service Group</strong> endpoint queues one or more shipments for allocation to a carrier service that is a member of a specific carrier service group.</p>
<p>To call <strong>Allocate with Service Group</strong>, send a <code>PUT</code> request to <code>https://api.sorted.com/pro/shipments/allocate/service_group</code>. The body of the request should contain a list of the <code>{shipments}</code> that you want to allocate and the <code>{service_group}</code> reference of the carrier service you want to allocate to.</p>
<p>Optionally, you can also include a list of service <code>capabilities</code>. Where capabilities are provided, then PRO only allocated the shipment to a carrier service that meets those capabilities. Each capability should list the <code>type</code> of service capability specified and the <code>value</code> that that capability should have.</p>
<div class="NOTE">
<h5>Note</h5>
<p>For information on available service capabilities and values, see the <a href="/pro/api/reference/shipments.html#tag/Allocation/paths/%7E1shipments%7E1allocate%7E1service_group/put">PRO v2 API reference</a>.</p>
</div>
<p>PRO uses allocation rules to eliminate any carrier services in the group that would not be suitable to take the shipments, and the queues the shipments for allocation to the cheapest remaining service. It then returns an Allocate Shipments result detailing the results of the request.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Where an <strong>Allocate with Service Group</strong> request is successful, PRO returns a <code>202 - Accepted</code> response. Note that, as the <strong>Allocate with Service Group</strong> operation is asynchronous, this response only indicates that the specified shipments have been queued for allocation and does not guarantee that the shipments have been or will be successfully allocated.</p>
</div>
<p>All PRO endpoints that queue multiple shipments for allocation return an Allocate Shipments result. The Allocate Shipments result includes a list of all shipments that were successfully queued and details of all shipments that were rejected for allocation, including the references of those shipments and the reason for rejection.</p>
<p>When you make a request to allocate multiple shipments simultaneously, PRO queues those shipments to be allocated at a later time rather than allocating them straight away. This helps to optimise performance. PRO then allocates queued shipments via an automated background process.</p>
<div class="NOTE">
<h5>Note</h5>
<p>If you only need to allocate a single shipment, you should use one of PRO's allocation endpoints for individual shipments (<strong>Allocate Shipment with Carrier Service</strong>, <strong>Allocate Shipment with Service Group</strong> and <strong>Allocate Shipment with Virtual Service</strong>) rather than a bulk allocation endpoint. Using an individual endpoint means that the shipment is allocated straight away.</p>
</div>
<h3 id="allocate-with-service-group-example">Allocate with Service Group Example</h3>
<p>The example shows a request to queue four shipments for allocation within carrier service group <em>exampleSG123</em>. Three shipments have been successfully queued, but one was rejected because its <code>{reference}</code> could not be found.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_allocate-with-service-group-request" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_allocate-with-service-group-request" data-tab="allocate-with-service-group-request" tabindex="0" aria-selected="true">Allocate With Service Group Request</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_allocate-with-service-group-response" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_allocate-with-service-group-response" data-tab="allocate-with-service-group-response" tabindex="-1">Allocate With Service Group Response</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-1_allocate-with-service-group-request" role="tabpanel" data-tab="allocate-with-service-group-request">

<pre><code class="lang-json">{
    &quot;shipments&quot;: [
        &quot;sp_00794407328944469090495223169024&quot;,
        &quot;sp_00794407551522883083874672967680&quot;,
        &quot;sp_00794407763918694348566450274304&quot;,
        &quot;sp_00794407763918694348566459974304&quot;
    ],
    &quot;service_group &quot;: &quot;exampleSG123&quot;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-1_allocate-with-service-group-response" role="tabpanel" data-tab="allocate-with-service-group-response" aria-hidden="true" hidden="hidden">

<pre><code class="lang-json">{
    &quot;message&quot;: &quot;3 shipments queued for allocation successfully. 1 shipment rejected for allocation.&quot;,
    &quot;queued&quot;: [
        &quot;sp_00794407328944469090495223169024&quot;,
        &quot;sp_00794407551522883083874672967680&quot;,
        &quot;sp_00794407763918694348566450274304&quot;
    ],
    &quot;rejected&quot;: [
        {
            &quot;code&quot;: &quot;shipment_not_found&quot;,
            &quot;message&quot;: &quot;The shipment cannot be found.&quot;,
            &quot;references&quot;: [
                &quot;sp_00794407763918694348566459974304&quot;
            ]
        }
    ],
    &quot;_links&quot;: []
}
</code></pre>
</section>
</div>

<div class="NOTE">
<h5>Note</h5>
<p>For full reference information on the <strong>Allocate with Service Group</strong> endpoint, see the <a href="/pro/api/reference/shipments.html#tag/Allocation/paths/%7E1shipments%7E1allocate%7E1service_group/put">PRO v2 API reference</a>.</p>
</div>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li>Learn about alternative methods of allocating shipments at the <a href="allocating_shipments.html">Allocating Shipments</a> page.</li>
<li>Learn how to get and print delivery labels at the <a href="getting_shipment_labels.html">Getting Labels</a> page.</li>
<li>Learn how to add shipments to a carrier manifest at the <a href="manifesting_shipments.html">Manifesting Shipments</a> page.</li>
</ul>

</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary" id="docfx-side-menu">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © Sorted Group 2021. Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
    <script type="text/javascript" src="../../../../styles/styleswitcher.js"></script>
    <script type="text/javascript" src="../../../../styles/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: false
        });
    
        window.onload = function() {
            const elements = document.getElementsByClassName("lang-mermaid");
            let index = 0;
    
            while (elements.length != 0) {
                let element = elements[0];
                mermaid.render('graph'+ index, element.innerText, (svgGraph) => {
                    element.parentElement.outerHTML = "<div class='mermaid'>" + svgGraph + "</div>";
                });
                index++;
            }
    
            addCodeCopyWrapper();
            identifyStatusCodes();
        };
    
        function addCodeCopyWrapper() {
            document.querySelectorAll('code.hljs').forEach(function (codeBlock) {
    
                var pre = codeBlock.parentNode;
    
                var containingDiv = document.createElement('div');
                containingDiv.className = 'code-copy';
    
                wrap(pre, containingDiv);
            });
            
            if (navigator && navigator.clipboard) {
                addCopyButtons(navigator.clipboard);
            } else {
                var script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js';
                script.integrity = 'sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=';
                script.crossOrigin = 'anonymous';
                script.onload = function() {
                    addCopyButtons(clipboard);
                };
    
                document.body.appendChild(script);
            }
        }
    
        function wrap(el, wrapper) {
            el.parentNode.insertBefore(wrapper, el);
            wrapper.appendChild(el);
        }
    
        function addCopyButtons(clipboard) {
            document.querySelectorAll('pre > code').forEach(function (codeBlock) {
                var button = document.createElement('button');
                button.className = 'copy-code-button';
                button.type = 'button';
    
                button.addEventListener('click', function () {
                    clipboard.writeText(codeBlock.innerText).then(function () {
                        successCopyButtonState(button);
                    }, function (error) {
                        defaultCopyButtonState(button);
                    });
                });
    
                var pre = codeBlock.parentNode;
                if (pre.parentNode.classList.contains('highlight')) {
                    var highlight = pre.parentNode;
                    highlight.parentNode.insertBefore(button, highlight);
                } else {
                    pre.parentNode.insertBefore(button, pre);
                }
    
                defaultCopyButtonState(button);
            });
        }
    
        function defaultCopyButtonState(button) {
    
            button.classList.remove('copy-success');
            button.innerText = '';
    
            var buttonSpanIcon = document.createElement('span');
            buttonSpanIcon.className = 'glyphicon glyphicon-copy';
            var buttonSpanText = document.createElement('span');
            buttonSpanText.innerText = 'Copy';
            buttonSpanText.classList.add('copy');
    
            button.appendChild(buttonSpanIcon);
            button.appendChild(buttonSpanText);
        }
    
        function successCopyButtonState(button) {
            button.blur();
    
            button.innerText = '';
    
            var buttonSpanOkIcon = document.createElement('span');
            buttonSpanOkIcon.className = 'glyphicon glyphicon-ok';
    
            button.appendChild(buttonSpanOkIcon);
    
            button.classList.add('copy-success');
    
            setTimeout(function () {
                defaultCopyButtonState(button);
            }, 2000);
        }
    
        function identifyStatusCodes() {
            document.querySelectorAll('.endpoint code').forEach(function (e) {
                highlightStatusCodes(e);
            });
        }
    
        function highlightStatusCodes(el) {
    
            var codePrefix = el.innerText.substring(0,1);
            
            if (typeof codePrefix === 'undefined' || codePrefix == null) {
                return;
            }
    
            if (codePrefix == "2") {
                el.classList.add('code-success');
                return;
            }
    
            if (codePrefix == "3") {
                el.classList.add('code-warning');
                return;
            }
    
            if (codePrefix == "4" || codePrefix == "5") {
                el.classList.add('code-error');
                return;
            }
        }
    </script>  </body>
</html>
