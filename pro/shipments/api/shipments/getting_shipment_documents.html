<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MKT96K5');</script>
    <!-- End Google Tag Manager -->
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Getting Shipment Documents | Sorted Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Getting Shipment Documents | Sorted Docs ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/c4a9dfb254.js" crossorigin="anonymous"></script>
  
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link rel="stylesheet" href="../../../../styles/theme-switcher.css">
  
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta id="docfx-style:rel" content="../../../../">
    <!--prevent caching the HTML-->
    <meta http-equiv="Cache-Control" content="max-age=31536000">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MKT96K5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar top-bar"></span>
                <span class="icon-bar middle-bar"></span>
                <span class="icon-bar bottom-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" src="../../../../images/sorted_logo.svg" height="auto" width="auto" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar"> 
              <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-switcher">
                  <input type="checkbox" id="theme-switcher">
                  <div class="slider round"></div>
                </label>
              </div> 
              <div>
                <form class="navbar-form navbar-right" role="search" id="search">
                    <div class="form-group">
                    <i class="fas fa-search"></i>
                    <input type="text" class="form-control" id="search-query" placeholder="Search our documentation..." autocomplete="off">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default custom">
            <div class="container">
                <div class="row row-nomargin">
                    <div class="hide-when-search col-sm-6" id="breadcrumb">
                        <div class="col-md-6">
                            <ul class="breadcrumb">
                            <li></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>      </header>
      <div class="container body-content">
        
        <div id="search-results" class="tech-docs">
        <div class="row">
            <div class="col-md-12">
                <button id="close-search" type="button" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;Back</button>
            </div>
        </div>
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10 docs-body" id="docfx-page-content">
            <article class="content wrap" id="_content" data-uid="pro-api-help-shipments-getting-shipment-documents">
<h1 id="getting-shipment-documents">Getting Shipment Documents</h1>

<!-- Time to read article - render code -->
<!--
<div class="page-stats row visible-xs">
    <ul class="page-metadata">
        <li class="li-page-date">
            08/10/2020
        </li>
        <li class="li-time-to-read">
             ~4 minutes  to read
        </li>
    </ul>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <ul class="page-metadata">
        <li class="li-page-date">
            08/10/2020
        </li>
        <li class="li-time-to-read">
             ~4 minutes  to read
        </li>
        <li class="contributor-li">
            <img src="https://www.gravatar.com/avatar/75aba8f6bb41171675ba3ced4172e9cb.jpg?d=robohash" class="img-circle img-contributor" title="andy.walton@sorted.com"/>
            <span class="tooltip-text">andy.walton@sorted.com</span>
        </li>
    </ul>
</div>
-->

<div class="page-tags">
    <span class="glyphicon glyphicon-tags"></span>
    <ul class="tags">
        <li class="tag-search">v2</li>
        <li class="tag-search">shipments</li>
        <li class="tag-search">pro</li>
        <li class="tag-search">api</li>
        <li class="tag-search">customs</li>
        <li class="tag-search">documents</li>
        <li class="tag-search">dangerous</li>
        <li class="tag-search">hazardous</li>
        <li class="tag-search">collection note</li>
    </ul>
</div>

<p>SortedPRO can automatically generate customs documentation, collection notes, and hazard labels for shipments. This page explains the various way in which SortedPRO can return this documentation.</p>
<hr>
<h2 id="documentation-in-pro">Documentation in PRO</h2>
<p>Once a shipment is allocated, PRO automatically determines what documentation is required for it. PRO can generate the following document types:</p>
<ul>
<li><code>cn22</code> - Customs documentation. Only generated for applicable international shipments.</li>
<li><code>cn23</code> - Customs documentation. Only generated for applicable international shipments.</li>
<li><code>commercial_invoice</code> - Customs documentation. Only generated for applicable international shipments.</li>
<li><code>hazard_label</code> - Generated for shipments containing dangerous goods.</li>
<li><code>collection_note</code> - A driver's manifest for the shipment. Generated for all shipments.</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p>PRO also generates delivery labels, which have the same data structure as shipment documents and are also created after allocation. However, labels are managed through their own dedicated endpoints, and cannot be returned through PRO's Documents endpoints. For information on using delivery labels in PRO, see the <a href="getting_shipment_labels.html">Getting Shipment Labels</a> page.</p>
</div>
<p>PRO offers two endpoints to retrieve documents once they have been generated:</p>
<ul>
<li><strong>Get Document</strong> retrieves a specific document.</li>
<li><strong>Get Customs Documents</strong> retrieves all customs documents (that is, CN22, CN23, and commercial invoice documents) that have been generated for a particular shipment.</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p>PRO's auto-generated documents should not be confused with paperless documents. Paperless documents are documents that are attached to a shipment prior to allocation and transmitted to a carrier as part of that shipment's data. Auto-generated documents are created by PRO at the point of allocation and are intended to be printed before the carrier picks the shipment up.</p>
<p>For more information on using paperless documents in PRO, see the <a href="adding_paperless_documents.html">Adding Paperless Documents</a> page.</p>
</div>
<h2 id="getting-a-specific-shipment-document">Getting a Specific Shipment Document</h2>
<p>To call <strong>Get Document</strong>, send a <code>GET</code> request to <code>https://api.sorted.com/pro/documents/{shipment_reference}/{document_type}</code>, where <code>{shipment_reference}</code> is the unique reference of the shipment that the document belongs to and <code>{document_type}</code> is the type of document you want to return for that shipment.</p>
<p>If the specified shipment has a document of the specified type, then PRO returns a <code>document</code> object representing that document. Otherwise, PRO returns an error.</p>
<div class="NOTE">
<h5>Note</h5>
<p>If you use the <strong>Get Document</strong> endpoint to get a <em>collection_note</em> for a shipment, then PRO returns a collection note for the contents of that shipment only. If you need collection notes for multiple shipments being picked up by the same carrier (as part of a scheduled collection, for example), you should use one of PRO's dedicated Collection Notes endpoints instead.</p>
<ul>
<li>For more information on using collection notes in PRO, see the <a href="getting_collection_notes.html">Getting Collection Notes</a> page.</li>
<li>For full reference information on the <strong>Get Document</strong> endpoint, see the <a href="/pro/api/reference/customs-documents.html#tag/Customs-Documents">PRO v2 API reference</a>.</li>
</ul>
</div>
<h2 id="getting-all-of-a-shipments-customs-documents">Getting All of a Shipment's Customs Documents</h2>
<p>To call <strong>Get Customs Documents</strong>, send a <code>GET</code> request to <code>https://api.sorted.com/pro/documents/{shipment_reference}</code>, where <code>{shipment_reference}</code> is the unique reference of the shipment that you want to get customs documents for.</p>
<p>If the specified shipment has customs documents (that is, it is an international shipment), then PRO returns a list of <code>document</code> objects representing those documents. Otherwise, PRO returns an error.</p>
<div class="NOTE">
<h5>Note</h5>
<p>For full reference information on the <strong>Get Customs Documents</strong> endpoint, see the <a href="/pro/api/reference/customs-documents.html#tag/Customs-Documents/paths/%7E1documents%7E1%7BshipmentReference%7D/get">PRO v2 API reference</a>.</p>
</div>
<h2 id="the-document-response">The Document Response</h2>
<p>Both Documents endpoints return <code>document</code> objects. <strong>Get Document</strong> returns a single <code>document</code>, while <strong>Get Customs Documents</strong> returns a list.</p>
<p>The document object has four properties:</p>
<ul>
<li><code>file</code> - A base64-encoded byte array representing the file content.</li>
<li><code>content_type</code> - The document's format (e.g. <em>application/pdf</em>).</li>
<li><code>document_type</code> - The type of document (e.g. <em>commercial_invoice</em>).</li>
<li><code>dpi</code> - The document's resolution in DPI.</li>
</ul>

<div class="NOTE">
<h5>Note</h5>
<p>As customs documents are generated at the point of allocation, PRO returns a <code>404 - Not Found</code> error if you attempt to get documents for an unallocated shipment. This code signifies that the request passed validation but there are no documents available for the specified shipment.</p>
</div>
<h2 id="examples">Examples</h2>
<p>The example below shows a successful <strong>Get Document</strong> request for the <code>cn22</code> document associated with shipment <em>sp_00670175533382557003917067812864</em>. PRO returns a <code>document</code> object representing that document. In this example, the Base64 data returned has been removed for clarity.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_get-document-request" role="tab" aria-controls="tabpanel_bHGHmlrG6S_get-document-request" data-tab="get-document-request" tabindex="0" aria-selected="true">Get Document Request</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_get-document-response" role="tab" aria-controls="tabpanel_bHGHmlrG6S_get-document-response" data-tab="get-document-response" tabindex="-1">Get Document Response</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S_get-document-request" role="tabpanel" data-tab="get-document-request">

<pre><code class="lang-json">GET https://api.sorted.com/pro/documents/sp_00670175533382557003917067812864/cn22
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S_get-document-response" role="tabpanel" data-tab="get-document-response" aria-hidden="true" hidden="hidden">

<pre><code class="lang-json">{
  &quot;file&quot;: {Base64 file contents},
  &quot;content_type&quot;: &quot;application/pdf&quot;,
  &quot;document_type&quot;: &quot;cn22&quot;,
  &quot;dpi&quot;: 203
}
</code></pre>
</section>
</div>

<p>The example below shows a successful <strong>Get Customs Documents</strong> request for all customs documents associated with shipment <em>sp_00670175533382557003917067812864</em>. PRO returns a list of <code>document</code> objects representing the <code>cn22</code>, <code>cn23</code>, and <code>commercial_invoice</code> documents associated with that shipment. In this example, the Base64 data returned has been removed for clarity.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_get-customs-documents-request" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_get-customs-documents-request" data-tab="get-customs-documents-request" tabindex="0" aria-selected="true">Get Customs Documents Request</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_get-customs-documents-response" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_get-customs-documents-response" data-tab="get-customs-documents-response" tabindex="-1">Get Customs Documents Response</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-1_get-customs-documents-request" role="tabpanel" data-tab="get-customs-documents-request">

<pre><code class="lang-json">GET https://api.sorted.com/pro/documents/sp_00670175533382557003917067812864
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-1_get-customs-documents-response" role="tabpanel" data-tab="get-customs-documents-response" aria-hidden="true" hidden="hidden">

<pre><code class="lang-json">[
  {
    &quot;file&quot;: {Base64 file contents},
    &quot;content_type&quot;: &quot;application/pdf&quot;,
    &quot;document_type&quot;: &quot;cn22&quot;,
    &quot;dpi&quot;: 203
  },
  {
    &quot;file&quot;: {Base64 file contents},
    &quot;content_type&quot;: &quot;application/pdf&quot;,
    &quot;document_type&quot;: &quot;cn23&quot;,
    &quot;dpi&quot;: 203
  },
  {
    &quot;file&quot;: {Base64 file contents},
    &quot;content_type&quot;: &quot;application/pdf&quot;,
    &quot;document_type&quot;: &quot;commercial_invoice&quot;,
    &quot;dpi&quot;: 203
  }
]
</code></pre>
</section>
</div>
<h2 id="using-the-label-data">Using the Label Data</h2>
<p>Once you have downloaded the file data, you will need to decode the file's Base64 in order to view the label itself. If you are unsure how to do so, see the <strong><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding">MDN docs</a></strong> for more information.</p>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li>Learn how to add shipments to a carrier manifest at the <a href="manifesting_shipments.html">Manifesting Shipments</a> page.</li>
<li>Learn how to retrieve a shipment's labels at the <a href="getting_shipment_labels.html">Getting Shipment Labels</a> page.</li>
<li>Learn how to work with shipment groups at the <a href="managing_shipment_groups.html">Managing Shipment Groups</a> page.</li>
</ul>

</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary" id="docfx-side-menu">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © Sorted Group 2021. Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
    <script type="text/javascript" src="../../../../styles/styleswitcher.js"></script>
    <script type="text/javascript" src="../../../../styles/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: false
        });
    
        window.onload = function() {
            const elements = document.getElementsByClassName("lang-mermaid");
            let index = 0;
    
            while (elements.length != 0) {
                let element = elements[0];
                mermaid.render('graph'+ index, element.innerText, (svgGraph) => {
                    element.parentElement.outerHTML = "<div class='mermaid'>" + svgGraph + "</div>";
                });
                index++;
            }
    
            addCodeCopyWrapper();
            identifyStatusCodes();
        };
    
        function addCodeCopyWrapper() {
            document.querySelectorAll('code.hljs').forEach(function (codeBlock) {
    
                var pre = codeBlock.parentNode;
    
                var containingDiv = document.createElement('div');
                containingDiv.className = 'code-copy';
    
                wrap(pre, containingDiv);
            });
            
            if (navigator && navigator.clipboard) {
                addCopyButtons(navigator.clipboard);
            } else {
                var script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js';
                script.integrity = 'sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=';
                script.crossOrigin = 'anonymous';
                script.onload = function() {
                    addCopyButtons(clipboard);
                };
    
                document.body.appendChild(script);
            }
        }
    
        function wrap(el, wrapper) {
            el.parentNode.insertBefore(wrapper, el);
            wrapper.appendChild(el);
        }
    
        function addCopyButtons(clipboard) {
            document.querySelectorAll('pre > code').forEach(function (codeBlock) {
                var button = document.createElement('button');
                button.className = 'copy-code-button';
                button.type = 'button';
    
                button.addEventListener('click', function () {
                    clipboard.writeText(codeBlock.innerText).then(function () {
                        successCopyButtonState(button);
                    }, function (error) {
                        defaultCopyButtonState(button);
                    });
                });
    
                var pre = codeBlock.parentNode;
                if (pre.parentNode.classList.contains('highlight')) {
                    var highlight = pre.parentNode;
                    highlight.parentNode.insertBefore(button, highlight);
                } else {
                    pre.parentNode.insertBefore(button, pre);
                }
    
                defaultCopyButtonState(button);
            });
        }
    
        function defaultCopyButtonState(button) {
    
            button.classList.remove('copy-success');
            button.innerText = '';
    
            var buttonSpanIcon = document.createElement('span');
            buttonSpanIcon.className = 'glyphicon glyphicon-copy';
            var buttonSpanText = document.createElement('span');
            buttonSpanText.innerText = 'Copy';
            buttonSpanText.classList.add('copy');
    
            button.appendChild(buttonSpanIcon);
            button.appendChild(buttonSpanText);
        }
    
        function successCopyButtonState(button) {
            button.blur();
    
            button.innerText = '';
    
            var buttonSpanOkIcon = document.createElement('span');
            buttonSpanOkIcon.className = 'glyphicon glyphicon-ok';
    
            button.appendChild(buttonSpanOkIcon);
    
            button.classList.add('copy-success');
    
            setTimeout(function () {
                defaultCopyButtonState(button);
            }, 2000);
        }
    
        function identifyStatusCodes() {
            document.querySelectorAll('.endpoint code').forEach(function (e) {
                highlightStatusCodes(e);
            });
        }
    
        function highlightStatusCodes(el) {
    
            var codePrefix = el.innerText.substring(0,1);
            
            if (typeof codePrefix === 'undefined' || codePrefix == null) {
                return;
            }
    
            if (codePrefix == "2") {
                el.classList.add('code-success');
                return;
            }
    
            if (codePrefix == "3") {
                el.classList.add('code-warning');
                return;
            }
    
            if (codePrefix == "4" || codePrefix == "5") {
                el.classList.add('code-error');
                return;
            }
        }
    </script>  </body>
</html>
