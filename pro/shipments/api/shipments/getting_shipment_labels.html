<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MKT96K5');</script>
    <!-- End Google Tag Manager -->
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Getting Shipment Labels | Sorted Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Getting Shipment Labels | Sorted Docs ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/c4a9dfb254.js" crossorigin="anonymous"></script>
  
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link rel="stylesheet" href="../../../../styles/theme-switcher.css">
  
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta id="docfx-style:rel" content="../../../../">
    <!--prevent caching the HTML-->
    <meta http-equiv="Cache-Control" content="max-age=31536000">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MKT96K5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar top-bar"></span>
                <span class="icon-bar middle-bar"></span>
                <span class="icon-bar bottom-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" src="../../../../images/sorted_logo.svg" height="auto" width="auto" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar"> 
              <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-switcher">
                  <input type="checkbox" id="theme-switcher">
                  <div class="slider round"></div>
                </label>
              </div> 
              <div>
                <form class="navbar-form navbar-right" role="search" id="search">
                    <div class="form-group">
                    <i class="fas fa-search"></i>
                    <input type="text" class="form-control" id="search-query" placeholder="Search our documentation..." autocomplete="off">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default custom">
            <div class="container">
                <div class="row row-nomargin">
                    <div class="hide-when-search col-sm-6" id="breadcrumb">
                        <div class="col-md-6">
                            <ul class="breadcrumb">
                            <li></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>      </header>
      <div class="container body-content">
        
        <div id="search-results" class="tech-docs">
        <div class="row">
            <div class="col-md-12">
                <button id="close-search" type="button" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;Back</button>
            </div>
        </div>
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10 docs-body" id="docfx-page-content">
            <article class="content wrap" id="_content" data-uid="pro-api-help-shipments-getting-shipment-labels">
<h1 id="getting-shipment-labels">Getting Shipment Labels</h1>

<!-- Time to read article - render code -->
<!--
<div class="page-stats row visible-xs">
    <ul class="page-metadata">
        <li class="li-page-date">
            08/10/2020
        </li>
        <li class="li-time-to-read">
             ~4 minutes  to read
        </li>
    </ul>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <ul class="page-metadata">
        <li class="li-page-date">
            08/10/2020
        </li>
        <li class="li-time-to-read">
             ~4 minutes  to read
        </li>
        <li class="contributor-li">
            <img src="https://www.gravatar.com/avatar/75aba8f6bb41171675ba3ced4172e9cb.jpg?d=robohash" class="img-circle img-contributor" title="andy.walton@sorted.com"/>
            <span class="tooltip-text">andy.walton@sorted.com</span>
        </li>
    </ul>
</div>
-->

<div class="page-tags">
    <span class="glyphicon glyphicon-tags"></span>
    <ul class="tags">
        <li class="tag-search">v2</li>
        <li class="tag-search">shipments</li>
        <li class="tag-search">pro</li>
        <li class="tag-search">api</li>
        <li class="tag-search">labels</li>
    </ul>
</div>

<p>SortedPRO can generate its own despatch labels, enabling PRO customers to download labels without having to request them directly from the carrier. This page explains how to get labels for a specific shipment or an individual package within a shipment.</p>
<hr>
<h2 id="the-labels-request">The Labels Request</h2>
<p>Getting labels is a key part of all PRO workflows, as an unlabelled shipment cannot be despatched. When a shipment is allocated, PRO generates delivery labels for all of that shipment's <code>contents</code> properties.</p>
<p>Labels are usually retrieved before a shipment has been manifested.</p>
<p>PRO offers label extensions, which enable customers to specify custom text, images and QR codes on their labels. Each PRO customer can have a single label extension, which is configured during the onboarding process.</p>
<div class="CAUTION">
<h5>Caution</h5>
<p>You can only retrieve labels for shipments that have been allocated to a carrier. If you attempt to return labels for an unallocated shipment, PRO returns an error.</p>
</div>
<h3 id="getting-all-labels-for-a-shipment">Getting All Labels for a Shipment</h3>
<p>The <strong>Get Labels</strong> endpoint retrieves all labels for the specified shipment. To call <strong>Get Labels</strong>, send a <code>GET</code> request to <code>https://api.sorted.com/pro/labels/{shipment_reference}/{format}(/dpi)</code>, where <code>{shipment_reference}</code> is the unique reference of the shipment you want to get labels for, <code>{format}</code> is the file format required (either PDF or ZPL), and <code>{dpi}</code> indicates the resolution required.</p>
<p><strong>Get Labels</strong> also has an optional <code>?include_extension=bool</code> boolean (true/false) parameter enabling you to specify whether you want the returned labels to include your custom label extensions. If you do not provide an <code>include_extension</code> query then PRO returns label extensions by default.</p>
<div class="NOTE">
<h5>Note</h5>
<p>For full reference information on the <strong>Get Labels</strong> endpoint, see the <a href="/pro/api/reference/labels.html#tag/Labels/paths/%7E1labels%7E1%7BshipmentReference%7D%7E1%7BcontentType%7D%7E1%7Bdpi%7D/get">PRO v2 API reference</a></p>
</div>
<h3 id="example-get-labels-calls">Example Get Labels Calls</h3>
<ul>
<li><code>GET https://api.sorted.com/pro/labels/sp_00668400124857422605561635799040/zpl/300</code> - Get all labels for shipment <em>sp_00668400124857422605561635799040</em> in ZPL format at 300 DPI resolution.</li>
<li><code>GET https://api.sorted.com/pro/labels/sp_00668400124857422605561635799040/pdf/300?include_extension=false</code> - Get all labels for shipment <em>sp_00668400124857422605561635799040</em> in PDF format at 300 DPI resolution, without label extensions.</li>
</ul>
<h3 id="getting-a-label-for-a-specific-item-of-contents">Getting a Label for a Specific Item of Contents</h3>
<p>The <strong>Get Contents Label</strong> endpoint retrieves the label for a specific item of shipment contents. To call <strong>Get Contents Label</strong>, send a <code>GET</code> request to <code>https://api.sorted.com/pro/labels/{shipment_reference}/contents/{contents_reference}/{format}/{dpi}</code>, where <code>{shipment_reference}</code> is the unique reference of the shipment that the contents belong to, <code>{contents_reference}</code> is the unique reference of the contents object you want to get the label for, <code>{format}</code> is the file format required (either PDF or ZPL), and <code>{dpi}</code> indicates the resolution required.</p>
<div class="NOTE">
<h5>Note</h5>
<p>The contents object's unique reference begins with <em>sc</em> and is located in the shipment's <code>contents.reference</code> property. It is not to be confused with the shipment's own <code>reference</code>, which begins with <em>sp</em> and is a unique identifier for the entire shipment.</p>
</div>
<p><strong>Get Contents Label</strong> also has an optional <code>?include_extension=bool</code> boolean (true/false) parameter enabling you to specify whether you want the returned labels to include your custom label extensions. If you do not provide an <code>include_extension</code> query then PRO returns label extensions by default.</p>
<div class="NOTE">
<h5>Note</h5>
<p>For full reference information on the <strong>Get Contents Label</strong> endpoint, see the <a href="/pro/api/reference/labels.html#tag/Labels/paths/%7E1labels%7E1%7BshipmentReference%7D%7E1contents%7E1%7BcontentsReference%7D%7E1%7BcontentType%7D%7E1%7Bdpi%7D/get">PRO v2 API reference</a></p>
</div>
<h3 id="example-get-contents-label-calls">Example Get Contents Label Calls</h3>
<ul>
<li><code>GET https://api.sorted.com/pro/labels/sp_00668400124857422605561635799040/contents/sc_00668412927930827428118192193538/zpl/300</code> - Get all labels for contents <em>sc_00668412927930827428118192193538</em> (located within shipment <em>sp_00668400124857422605561635799040</em>) in ZPL format at 300 DPI resolution.</li>
<li><code>GET https://api.sorted.com/pro/labels/sp_00668400124857422605561635799040/contents/sc_00668412927930827428118192193538/pdf/300?include_extension=false</code> - Get all labels for contents <em>sc_00668412927930827428118192193538</em> (located within shipment <em>sp_00668400124857422605561635799040</em>) in PDF format at 300 DPI resolution, without label extensions.</li>
</ul>
<h2 id="the-labels-response">The Labels Response</h2>
<p>Both Labels API endpoints return document objects.</p>
<p>The document object has four properties:</p>
<ul>
<li><code>file</code> - A base64-encoded byte array representing the file content.</li>
<li><code>content_type</code> - The document's format (e.g. <em>application/pdf</em>).</li>
<li><code>document_type</code> - The type of document (e.g. <em>commercial_invoice</em>).</li>
<li><code>dpi</code> - The document's resolution in DPI.</li>
</ul>

<p>Labels always have a <code>document_type</code> of <em>label</em>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>PRO's <strong>Get Documents</strong> endpoint also retrieves documents. However, it cannot return documents with a <code>document_type</code> of <em>label</em>. PRO returns an error if you attempt to retrieve a label through <strong>Get Documents</strong>. <strong>Get Labels</strong> and <strong>Get Contents Label</strong> are the only PRO endpoints that can return labels.</p>
</div>
<h3 id="example-label-response">Example Label Response</h3>
<p>The example shows a sample label response in ZPL format.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_example-label" role="tab" aria-controls="tabpanel_bHGHmlrG6S_example-label" data-tab="example-label" tabindex="0" aria-selected="true">Example Label</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S_example-label" role="tabpanel" data-tab="example-label">

<pre><code class="lang-json">{
  &quot;file&quot;: (Base64 file data),
  &quot;content_type&quot;: &quot;text/plain&quot;,
  &quot;document_type&quot;: &quot;label&quot;,
  &quot;dpi&quot;: 203
}
</code></pre>
</section>
</div>
<h2 id="using-the-label-data">Using the Label Data</h2>
<p>Once you have downloaded the file data, you will need to decode the file's Base64 in order to view the label itself. If you are unsure how to do so, see the <strong><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding">MDN docs</a></strong> for more information.</p>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li>Learn how to add shipments to a carrier manifest at the <a href="manifesting_shipments.html">Manifesting Shipments</a> page.</li>
<li>Learn how to retrieve a shipment's other documents at the <a href="getting_shipment_documents.html">Getting Shipment Documents</a> page.</li>
<li>Learn how to work with shipment groups at the <a href="managing_shipment_groups.html">Managing Shipment Groups</a> page.</li>
</ul>

</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary" id="docfx-side-menu">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © Sorted Group 2021. Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
    <script type="text/javascript" src="../../../../styles/styleswitcher.js"></script>
    <script type="text/javascript" src="../../../../styles/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: false
        });
    
        window.onload = function() {
            const elements = document.getElementsByClassName("lang-mermaid");
            let index = 0;
    
            while (elements.length != 0) {
                let element = elements[0];
                mermaid.render('graph'+ index, element.innerText, (svgGraph) => {
                    element.parentElement.outerHTML = "<div class='mermaid'>" + svgGraph + "</div>";
                });
                index++;
            }
    
            addCodeCopyWrapper();
            identifyStatusCodes();
        };
    
        function addCodeCopyWrapper() {
            document.querySelectorAll('code.hljs').forEach(function (codeBlock) {
    
                var pre = codeBlock.parentNode;
    
                var containingDiv = document.createElement('div');
                containingDiv.className = 'code-copy';
    
                wrap(pre, containingDiv);
            });
            
            if (navigator && navigator.clipboard) {
                addCopyButtons(navigator.clipboard);
            } else {
                var script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js';
                script.integrity = 'sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=';
                script.crossOrigin = 'anonymous';
                script.onload = function() {
                    addCopyButtons(clipboard);
                };
    
                document.body.appendChild(script);
            }
        }
    
        function wrap(el, wrapper) {
            el.parentNode.insertBefore(wrapper, el);
            wrapper.appendChild(el);
        }
    
        function addCopyButtons(clipboard) {
            document.querySelectorAll('pre > code').forEach(function (codeBlock) {
                var button = document.createElement('button');
                button.className = 'copy-code-button';
                button.type = 'button';
    
                button.addEventListener('click', function () {
                    clipboard.writeText(codeBlock.innerText).then(function () {
                        successCopyButtonState(button);
                    }, function (error) {
                        defaultCopyButtonState(button);
                    });
                });
    
                var pre = codeBlock.parentNode;
                if (pre.parentNode.classList.contains('highlight')) {
                    var highlight = pre.parentNode;
                    highlight.parentNode.insertBefore(button, highlight);
                } else {
                    pre.parentNode.insertBefore(button, pre);
                }
    
                defaultCopyButtonState(button);
            });
        }
    
        function defaultCopyButtonState(button) {
    
            button.classList.remove('copy-success');
            button.innerText = '';
    
            var buttonSpanIcon = document.createElement('span');
            buttonSpanIcon.className = 'glyphicon glyphicon-copy';
            var buttonSpanText = document.createElement('span');
            buttonSpanText.innerText = 'Copy';
            buttonSpanText.classList.add('copy');
    
            button.appendChild(buttonSpanIcon);
            button.appendChild(buttonSpanText);
        }
    
        function successCopyButtonState(button) {
            button.blur();
    
            button.innerText = '';
    
            var buttonSpanOkIcon = document.createElement('span');
            buttonSpanOkIcon.className = 'glyphicon glyphicon-ok';
    
            button.appendChild(buttonSpanOkIcon);
    
            button.classList.add('copy-success');
    
            setTimeout(function () {
                defaultCopyButtonState(button);
            }, 2000);
        }
    
        function identifyStatusCodes() {
            document.querySelectorAll('.endpoint code').forEach(function (e) {
                highlightStatusCodes(e);
            });
        }
    
        function highlightStatusCodes(el) {
    
            var codePrefix = el.innerText.substring(0,1);
            
            if (typeof codePrefix === 'undefined' || codePrefix == null) {
                return;
            }
    
            if (codePrefix == "2") {
                el.classList.add('code-success');
                return;
            }
    
            if (codePrefix == "3") {
                el.classList.add('code-warning');
                return;
            }
    
            if (codePrefix == "4" || codePrefix == "5") {
                el.classList.add('code-error');
                return;
            }
        }
    </script>  </body>
</html>
