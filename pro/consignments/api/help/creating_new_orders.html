<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MKT96K5');</script>
    <!-- End Google Tag Manager -->
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Creating New Orders | Sorted Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Creating New Orders | Sorted Docs ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/c4a9dfb254.js" crossorigin="anonymous"></script>
  
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link rel="stylesheet" href="../../../../styles/theme-switcher.css">
  
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta id="docfx-style:rel" content="../../../../">
    <!--prevent caching the HTML-->
    <meta http-equiv="Cache-Control" content="max-age=31536000">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MKT96K5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar top-bar"></span>
                <span class="icon-bar middle-bar"></span>
                <span class="icon-bar bottom-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" src="../../../../images/sorted_logo.svg" height="auto" width="auto" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar"> 
              <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-switcher">
                  <input type="checkbox" id="theme-switcher">
                  <div class="slider round"></div>
                </label>
              </div> 
              <div>
                <form class="navbar-form navbar-right" role="search" id="search">
                    <div class="form-group">
                    <i class="fas fa-search"></i>
                    <input type="text" class="form-control" id="search-query" placeholder="Search our documentation..." autocomplete="off">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default custom">
            <div class="container">
                <div class="row row-nomargin">
                    <div class="hide-when-search col-sm-6" id="breadcrumb">
                        <div class="col-md-6">
                            <ul class="breadcrumb">
                            <li></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>      </header>
      <div class="container body-content">
        
        <div id="search-results" class="tech-docs">
        <div class="row">
            <div class="col-md-12">
                <button id="close-search" type="button" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;Back</button>
            </div>
        </div>
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10 docs-body" id="docfx-page-content">
            <article class="content wrap" id="_content" data-uid="pro-api-help-creating-new-orders">
<h1 id="creating-new-orders">Creating New Orders</h1>

<!-- Time to read article - render code -->
<!--
<div class="page-stats row visible-xs">
    <ul class="page-metadata">
        <li class="li-page-date">
            29/05/2020
        </li>
        <li class="li-time-to-read">
             ~5 minutes  to read
        </li>
    </ul>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <ul class="page-metadata">
        <li class="li-page-date">
            29/05/2020
        </li>
        <li class="li-time-to-read">
             ~5 minutes  to read
        </li>
        <li class="contributor-li">
            <img src="https://www.gravatar.com/avatar/75aba8f6bb41171675ba3ced4172e9cb.jpg?d=robohash" class="img-circle img-contributor" title="andy.walton@sorted.com"/>
            <span class="tooltip-text">andy.walton@sorted.com</span>
        </li>
        <li class="contributor-li">
            <img src="https://www.gravatar.com/avatar/435f6d0dafb6467a7e20a69f720fb6f1.jpg?d=robohash" class="img-circle img-contributor" title="michael.rose@sorted.com"/>
            <span class="tooltip-text">michael.rose@sorted.com</span>
        </li>
    </ul>
</div>
-->

<div class="page-tags">
    <span class="glyphicon glyphicon-tags"></span>
    <ul class="tags">
        <li class="tag-search">v1</li>
        <li class="tag-search">orders</li>
        <li class="tag-search">pro</li>
        <li class="tag-search">api</li>
        <li class="tag-search">consignments</li>
        <li class="tag-search">EORI number</li>
    </ul>
</div>

<p>The first step in using SortedPRO orders is to create the order itself. This page explains the various ways in which you can create orders.</p>
<hr>
<h2 id="creating-orders-directly">Creating Orders Directly</h2>
<p>The <strong><a href="https://docs.electioapp.com/#/api/CreateOrder">Create Order</a></strong> endpoint enables you to record details of a customer's order in SortedPRO. To call <strong>Create Order</strong>, send a <code>POST</code> request to <code>https://api.electioapp.com/orders</code>.</p>
<p>The body structure of the <strong>Create Order</strong> request is very similar to that of the <strong>Create Consignments</strong> request, with the exception that items on an order do not need to share an origin, ship date, and carrier.</p>
<div class="NOTE">
<h5>Note</h5>
<p>For more information on the difference between orders and consignments, see the <a href="managing_orders.html">Managing Orders</a> page.</p>
</div>
<p>At a minimum, the <strong>Create Order</strong> endpoint requires you to send item, origin address, and destination address data. However, there are lots of other properties you can send when creating an order, including:</p>
<ul>
<li>Your own order reference.</li>
<li>The order's source.</li>
<li>The required delivery date.</li>
<li>Customs documentation.</li>
<li>The order's direction of travel.</li>
<li>Metadata. PRO metadata enables you to record additional data about a consignment in custom fields. For more information on using metadata in PRO, see the <a href="metadata.html">Metadata</a> page.</li>
<li>Tags. Allocation tags enable you to filter the list of carrier services that a particular consignment could be allocated to. For more information on allocation tags, see the <a href="tags.html">Tags</a> page.</li>
</ul>
<p>Either the order's <code>origin</code> address, its <code>destination</code> address, or both, must include a valid <code>ShippingLocationReference</code>. For information on how to obtain a list of your organisation's shipping locations, see the <strong><a href="https://docs.electioapp.com/#/api/GetShippingLocations">Get Shipping Locations</a></strong> page of the API reference.</p>
<div class="NOTE">
<h5>Note</h5>
<ul>
<li>For full reference information on the <strong>Create Order</strong> endpoint, see the <strong><a href="https://docs.electioapp.com/#/api/CreateOrder">Create Order</a></strong> page of the API reference.</li>
<li>For an example call flow showing orders being created, see the <a href="flows/order_flex_flow.html">Order Flex</a> call flow page.</li>
</ul>
</div>
<h3 id="adding-an-eori-number">Adding an EORI Number</h3>
<p>If required, you can record a order's EORI number using the <code>Metadata</code> property. To do so, add a property with a <code>KeyValue</code> of <em>ShippersEORI</em> and a <code>StringValue</code> representing the number itself.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_eori-number-example" role="tab" aria-controls="tabpanel_bHGHmlrG6S_eori-number-example" data-tab="eori-number-example" tabindex="0" aria-selected="true">EORI Number Example</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S_eori-number-example" role="tabpanel" data-tab="eori-number-example">

<pre><code class="lang-json">{
    &quot;OrderReferenceProvidedByCustomer&quot;: &quot;YOUR-REF&quot;,
    &quot;Addresses&quot;: [
        // addresses
    ],
    &quot;Packages&quot;: [
        // package properties
    ],
    &quot;Metadata&quot;: [
        {
            &quot;KeyValue&quot;: &quot;ShippersEORI&quot;,
            &quot;StringValue&quot;: &quot;GB987654312000&quot;
        }
    ]
    // other order properties
}

</code></pre>
</section>
</div>

<p>If you add a <code>ShippersEORI</code> metadata property to an international order, then PRO automatically adds that property to any consignments that are packed from that order. PRO also automatically adds an <strong>EORI Number</strong> field to any commercial invoices that it generates from those consignments.</p>
<div class="NOTE">
<h5>Note</h5>
<ul>
<li>For more information on commercial invoices and other customs documents in PRO, see the <a href="getting_customs_docs_and_invoices.html">Getting Customs Docs and Invoices</a> page.</li>
<li>For more information on packing orders, see the <a href="packing_orders.html">Creating Consignments From Orders</a></li>
</ul>
</div>
<h3 id="create-order-example">Create Order Example</h3>
<p>The example shows the creation of a fairly standard order. In this case, we have an outbound order comprising a single package with a single item inside it. After receiving the request, PRO returns an <code>{orderReference}</code> of <em>EO-000-002-0TS</em>. You will need the <code>{orderReference}</code> when you come to pack the order into shippable consignments.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_create-order-request" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_create-order-request" data-tab="create-order-request" tabindex="0" aria-selected="true">Create Order Request</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_create-order-response" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_create-order-response" data-tab="create-order-response" tabindex="-1">Create Order Response</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-1_create-order-request" role="tabpanel" data-tab="create-order-request">

<p><code>POST https://api.electioapp.com/orders</code></p>
<pre><code class="lang-json">{
  &quot;Packages&quot;: [
    {
    	&quot;Items&quot;: [
        {
          &quot;Sku&quot;: &quot;SKU093434&quot;,
          &quot;Description&quot;: &quot;Striped Bamboo Red/White&quot;,
          &quot;CountryOfOrigin&quot;: {
            &quot;IsoCode&quot;: {
              &quot;TwoLetterCode&quot;: &quot;GB&quot;
            }
          },
          &quot;Weight&quot;: {
            &quot;Value&quot;: 0.5,
            &quot;Unit&quot;: &quot;Kg&quot;
          },
          &quot;Dimensions&quot;: {
            &quot;Unit&quot;: &quot;Cm&quot;,
            &quot;Width&quot;: 10.0,
            &quot;Length&quot;: 10.0,
            &quot;Height&quot;: 10.0
          },
          &quot;Value&quot;: {
            &quot;Amount&quot;: 5.99,
            &quot;Currency&quot;: {
              &quot;IsoCode&quot;: &quot;GBP&quot;
            }
          }
        }   
      ],
      &quot;Weight&quot;: {
        &quot;Value&quot;: 0.5,
        &quot;Unit&quot;: &quot;Kg&quot;
      },
      &quot;Dimensions&quot;: {
        &quot;Unit&quot;: &quot;Cm&quot;,
        &quot;Width&quot;: 10.0,
        &quot;Length&quot;: 10.0,
        &quot;Height&quot;: 10.0
      },
      &quot;Description&quot;: &quot;Socks&quot;,
      &quot;Value&quot;: {
        &quot;Amount&quot;: 5.99,
        &quot;Currency&quot;: {
          &quot;IsoCode&quot;: &quot;GBP&quot;
        }
      }
    }  
  ],
  &quot;Addresses&quot;: [
    {
      &quot;AddressType&quot;: &quot;Origin&quot;,
      &quot;ShippingLocationReference&quot;: &quot;Sorted1&quot;,
      &quot;IsCached&quot;: false
    },
    {
      &quot;AddressType&quot;: &quot;Destination&quot;,
      &quot;Contact&quot;: {
        &quot;Title&quot;: &quot;Mr&quot;,
        &quot;FirstName&quot;: &quot;Peter&quot;,
        &quot;LastName&quot;: &quot;McPetersson&quot;,
        &quot;Telephone&quot;: &quot;07702123456&quot;,
        &quot;Mobile&quot;: &quot;07702123456&quot;,
        &quot;LandLine&quot;: &quot;0161544123&quot;,
        &quot;Email&quot;: &quot;peter.mcpetersson@test.com&quot;
      },
      &quot;AddressLine1&quot;: &quot;13 Porter Street&quot;,
      &quot;Region&quot;: &quot;Greater Manchester&quot;,
      &quot;Postcode&quot;: &quot;M1 5WG&quot;,
      &quot;Country&quot;: {
        &quot;Name&quot;: &quot;Great Britain&quot;,
        &quot;IsoCode&quot;: {
          &quot;TwoLetterCode&quot;: &quot;GB&quot;
        }
      },
      &quot;IsCached&quot;: false
    }
  ]
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-1_create-order-response" role="tabpanel" data-tab="create-order-response" aria-hidden="true" hidden="hidden">

<pre><code class="lang-json">[
  {
    &quot;Rel&quot;: &quot;Order&quot;,
    &quot;Href&quot;: &quot;https://api.electioapp.com/orders/EO-000-002-0TS&quot;
  }
]
</code></pre>
</section>
</div>
<h2 id="creating-orders-from-delivery-options">Creating Orders From Delivery Options</h2>
<p>The <strong>Create Orders</strong> endpoint isn't the only PRO endpoint that can generate orders. You can also create orders via the <strong>Delivery Options</strong> API, which enables you to get a list of delivery options for a potential order that you can present to your customer at checkout. When you select the required option as an order, PRO automatically creates a new order without requiring you to make additional API calls.</p>
<p>Creating orders in this way lets you provide front-end delivery options in circumstances where you cannot guarantee that the contents of your customer's online basket will map directly to a single consignment (and so first need to create an order that you can pack into consignments). For example, you might operate more than one warehouse and so may need to ship some orders in multiple consignments.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Access to PRO's delivery and pickup option endpoints requires a SortedHERO license. This component is sold separately to the main SortedPRO product.</p>
</div>
<p>To create an order from delivery options, you'll need to make two API calls:</p>
<ol>
<li><p>Call the <strong>Delivery Options</strong> endpoint. The structure of the <strong>Delivery Options</strong> request is very similar to that of the <strong>Create Order</strong> request. However, rather than simply creating an order from the information, PRO instead returns a list of potential delivery options for the (as yet uncreated) order. Each delivery option represents a delivery date and time, and a suitable carrier service.</p>
</li>
<li><p>Select the option that the customer chooses as an order. To do so, call <strong>Select Delivery Option As An Order</strong> by sending a <code>POST</code> request to <code>https://api.electioapp.com/deliveryoptions/selectorder</code> with the <code>Reference</code> of the delivery option you want to select in the body of the request.</p>
</li>
</ol>
<p>You can also generate orders from pickup options. The process is the same as that used for delivery options - make a <strong>Pickup Options</strong> call and then select the required option via the <strong>Select Delivery Option As Order</strong> endpoint.</p>
<div class="NOTE">
<h5>Note</h5>
<ul>
<li>For a full user guide on working with delivery and pickup options, including further information on selecting options, see the <a href="using_delivery_and_pickup_options.html">Using Delivery and Pickup Options</a> section.</li>
<li>For reference information on the Delivery Options and Pickup Options APIs, see the <a href="https://docs.electioapp.com/#/api/DeliveryOptions">API reference</a>.</li>
</ul>
</div>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li>Learn how to work with existing orders at the <a href="managing_existing_orders.html">Managing Existing Orders</a> page.</li>
<li>Learn how to pack orders into consignments at the <a href="packing_orders.html">Creating Consignments From Orders</a> page.</li>
<li>Learn how to retrieve delivery options at the <a href="getting_delivery_options.html">Getting Delivery Options</a> page.</li>
</ul>

</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary" id="docfx-side-menu">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © Sorted Group 2021. Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
    <script type="text/javascript" src="../../../../styles/styleswitcher.js"></script>
    <script type="text/javascript" src="../../../../styles/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: false
        });
    
        window.onload = function() {
            const elements = document.getElementsByClassName("lang-mermaid");
            let index = 0;
    
            while (elements.length != 0) {
                let element = elements[0];
                mermaid.render('graph'+ index, element.innerText, (svgGraph) => {
                    element.parentElement.outerHTML = "<div class='mermaid'>" + svgGraph + "</div>";
                });
                index++;
            }
    
            addCodeCopyWrapper();
            identifyStatusCodes();
        };
    
        function addCodeCopyWrapper() {
            document.querySelectorAll('code.hljs').forEach(function (codeBlock) {
    
                var pre = codeBlock.parentNode;
    
                var containingDiv = document.createElement('div');
                containingDiv.className = 'code-copy';
    
                wrap(pre, containingDiv);
            });
            
            if (navigator && navigator.clipboard) {
                addCopyButtons(navigator.clipboard);
            } else {
                var script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js';
                script.integrity = 'sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=';
                script.crossOrigin = 'anonymous';
                script.onload = function() {
                    addCopyButtons(clipboard);
                };
    
                document.body.appendChild(script);
            }
        }
    
        function wrap(el, wrapper) {
            el.parentNode.insertBefore(wrapper, el);
            wrapper.appendChild(el);
        }
    
        function addCopyButtons(clipboard) {
            document.querySelectorAll('pre > code').forEach(function (codeBlock) {
                var button = document.createElement('button');
                button.className = 'copy-code-button';
                button.type = 'button';
    
                button.addEventListener('click', function () {
                    clipboard.writeText(codeBlock.innerText).then(function () {
                        successCopyButtonState(button);
                    }, function (error) {
                        defaultCopyButtonState(button);
                    });
                });
    
                var pre = codeBlock.parentNode;
                if (pre.parentNode.classList.contains('highlight')) {
                    var highlight = pre.parentNode;
                    highlight.parentNode.insertBefore(button, highlight);
                } else {
                    pre.parentNode.insertBefore(button, pre);
                }
    
                defaultCopyButtonState(button);
            });
        }
    
        function defaultCopyButtonState(button) {
    
            button.classList.remove('copy-success');
            button.innerText = '';
    
            var buttonSpanIcon = document.createElement('span');
            buttonSpanIcon.className = 'glyphicon glyphicon-copy';
            var buttonSpanText = document.createElement('span');
            buttonSpanText.innerText = 'Copy';
            buttonSpanText.classList.add('copy');
    
            button.appendChild(buttonSpanIcon);
            button.appendChild(buttonSpanText);
        }
    
        function successCopyButtonState(button) {
            button.blur();
    
            button.innerText = '';
    
            var buttonSpanOkIcon = document.createElement('span');
            buttonSpanOkIcon.className = 'glyphicon glyphicon-ok';
    
            button.appendChild(buttonSpanOkIcon);
    
            button.classList.add('copy-success');
    
            setTimeout(function () {
                defaultCopyButtonState(button);
            }, 2000);
        }
    
        function identifyStatusCodes() {
            document.querySelectorAll('.endpoint code').forEach(function (e) {
                highlightStatusCodes(e);
            });
        }
    
        function highlightStatusCodes(el) {
    
            var codePrefix = el.innerText.substring(0,1);
            
            if (typeof codePrefix === 'undefined' || codePrefix == null) {
                return;
            }
    
            if (codePrefix == "2") {
                el.classList.add('code-success');
                return;
            }
    
            if (codePrefix == "3") {
                el.classList.add('code-warning');
                return;
            }
    
            if (codePrefix == "4" || codePrefix == "5") {
                el.classList.add('code-error');
                return;
            }
        }
    </script>  </body>
</html>
