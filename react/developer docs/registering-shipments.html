<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MKT96K5');</script>
    <!-- End Google Tag Manager -->
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Registering Shipments | Sorted Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Registering Shipments | Sorted Docs ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/c4a9dfb254.js" crossorigin="anonymous"></script>
  
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/theme-switcher.css">
  
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta id="docfx-style:rel" content="../../">
    <!--prevent caching the HTML-->
    <meta http-equiv="Cache-Control" content="max-age=31536000">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MKT96K5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar top-bar"></span>
                <span class="icon-bar middle-bar"></span>
                <span class="icon-bar bottom-bar"></span>
              </button>
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" src="../../images/sorted_logo.svg" height="auto" width="auto" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar"> 
              <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-switcher">
                  <input type="checkbox" id="theme-switcher">
                  <div class="slider round"></div>
                </label>
              </div> 
              <div>
                <form class="navbar-form navbar-right" role="search" id="search">
                    <div class="form-group">
                    <i class="fas fa-search"></i>
                    <input type="text" class="form-control" id="search-query" placeholder="Search our documentation..." autocomplete="off">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default custom">
            <div class="container">
                <div class="row row-nomargin">
                    <div class="hide-when-search col-sm-6" id="breadcrumb">
                        <div class="col-md-6">
                            <ul class="breadcrumb">
                            <li></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>      </header>
      <div class="container body-content">
        
        <div id="search-results" class="tech-docs">
        <div class="row">
            <div class="col-md-12">
                <button id="close-search" type="button" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;Back</button>
            </div>
        </div>
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10 docs-body" id="docfx-page-content">
            <article class="content wrap" id="_content" data-uid="react-help-registering-shipments">
<h1 id="registering-shipments">Registering Shipments</h1>

<!-- Time to read article - render code -->
<!--
<div class="page-stats row visible-xs">
    <ul class="page-metadata">
        <li class="li-page-date">
            29/05/2020
        </li>
        <li class="li-time-to-read">
             ~18 minutes  to read
        </li>
    </ul>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <ul class="page-metadata">
        <li class="li-page-date">
            29/05/2020
        </li>
        <li class="li-time-to-read">
             ~18 minutes  to read
        </li>
        <li class="contributor-li">
            <img src="https://www.gravatar.com/avatar/75aba8f6bb41171675ba3ced4172e9cb.jpg?d=robohash" class="img-circle img-contributor" title="andy.walton@sorted.com"/>
            <span class="tooltip-text">andy.walton@sorted.com</span>
        </li>
        <li class="contributor-li">
            <img src="https://www.gravatar.com/avatar/435f6d0dafb6467a7e20a69f720fb6f1.jpg?d=robohash" class="img-circle img-contributor" title="michael.rose@sorted.com"/>
            <span class="tooltip-text">michael.rose@sorted.com</span>
        </li>
    </ul>
</div>
-->

<div class="page-tags">
    <span class="glyphicon glyphicon-tags"></span>
    <ul class="tags">
        <li class="tag-search">react</li>
        <li class="tag-search">api</li>
        <li class="tag-search">shipments</li>
        <li class="tag-search">registration</li>
    </ul>
</div>

<p>SortedREACT can only work with the shipments you register. This page explains how to register shipment details by API, SFTP, and email, and how to get the most out of REACT by registering additional shipment information.</p>
<hr>
<h2 id="registering-shipments-by-api">Registering Shipments by API</h2>
<p>The <a href="https://docs.sorted.com/react/api/#RegisterShipments">Register Shipments</a> API endpoint enables you to send shipment details to REACT. REACT then uses these details to create a shipment record on the system.</p>
<h3 id="sending-the-request">Sending the Request</h3>
<p>To register a shipment, send a <code>POST</code> request to <code>https://api.sorted.com/react/shipments</code>. There are lots of properties you can send when you register, but only the (carrier) <code>tracking_references</code> array is mandatory. REACT treats the value of the <code>tracking_references</code> array as the shipment's primary reference.</p>
<p>Currently, you can only provide one tracking reference in the <code>tracking_references</code> array, although multiple references may be supported in a future enhancement to REACT. If you add additional references, REACT returns an error. You can add additional references for the shipment - including your own internal reference numbers - in the <code>custom_references</code> array.</p>
<div class="NOTE">
<h5>Note</h5>
<p>As with other REACT APIs, you'll need to include JSON <code>Content-Type</code> and <code>Accept</code> headers and a valid API key in order to use the <strong>Register Shipments</strong> endpoint. You can get an API key from the <strong>Settings &gt; API Keys</strong> page of the REACT UI.</p>
<p>For more information on obtaining an API key, see the <a href="quick-start.md#registering-a-shipment">Getting an API Key</a> section of the Quick Start guide.</p>
</div>
<p><strong>Examples</strong></p>
<p>This example shows the body of a simple <strong>Register Shipments</strong> request, in which the user has not provided any information other than a carrier tracking reference:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_single-register-shipments-request" role="tab" aria-controls="tabpanel_bHGHmlrG6S_single-register-shipments-request" data-tab="single-register-shipments-request" tabindex="0" aria-selected="true">Single Register Shipments Request</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S_single-register-shipments-request" role="tabpanel" data-tab="single-register-shipments-request">

<pre><code class="lang-json">{
  &quot;shipments&quot;: [{
    &quot;tracking_references&quot;: [&quot;TRACKING-DEMO-REFERENCE&quot;]
  }]
}
</code></pre>
</section>
</div>

<p>The following example shows two simple shipments registered in a single API call:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_double-register-shipments-request" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_double-register-shipments-request" data-tab="double-register-shipments-request" tabindex="0" aria-selected="true">Double Register Shipments Request</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-1_double-register-shipments-request" role="tabpanel" data-tab="double-register-shipments-request">

<pre><code class="lang-json">{
  &quot;shipments&quot;: [{
    &quot;tracking_references&quot;: [&quot;MULTI-SHIPMENT-1&quot;]
	},
	{
    &quot;tracking_references&quot;: [&quot;MULTI-SHIPMENT-2&quot;]
	}]
}
</code></pre>
</section>
</div>
<h3 id="register-shipments-response">Register Shipments Response</h3>
<p>When REACT receives the request, it creates a new shipment record and returns a <strong>201 Created</strong> response. The body of this response contains the shipment's <code>id</code> - a REACT-generated identifier for the shipment that can be used to recall data throughout REACT's APIs.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-2_successful-register-shipments-response" role="tab" aria-controls="tabpanel_bHGHmlrG6S-2_successful-register-shipments-response" data-tab="successful-register-shipments-response" tabindex="0" aria-selected="true">Successful Register Shipments Response</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-2_successful-register-shipments-response" role="tabpanel" data-tab="successful-register-shipments-response">

<pre><code class="lang-json">{
  &quot;id&quot;: &quot;sp_TRACKING-DEMO-ID&quot;,
  &quot;message&quot;: &quot;Shipment record 'sp_TRACKING-DEMO-ID' with tracking reference [&quot;TRACKING-DEMO-REFERENCE&quot;] registered successfully.&quot;,
  &quot;tracking_references&quot;: [
    &quot;TRACKING-DEMO-REFERENCE&quot;
  ],
  &quot;_links&quot;: [
    {
      &quot;href&quot;: &quot;https://api.sorted.com/react/shipments/sp_TRACKING-DEMO-ID&quot;,
      &quot;rel&quot;: &quot;self&quot;
    }
  ]
}
</code></pre>
</section>
</div>

<p>And that's it! REACT will look out for the tracking reference you provided in the carrier data it receives from its carrier connectors, and will update the shipment's information as new events come in. You can use the carrier tracking reference or <code>{id}</code> to get updates on the shipment using REACT's APIs. The newly-registered shipment can also trigger any webhooks you have configured.</p>
<p>REACT assigns an initial shipment state of <em>Registered</em> to all newly-registered shipments. For a full list of REACT shipment states, see the <a href="shipment-states.html">Shipment States</a> page.</p>
<h2 id="registering-shipments-by-sftp">Registering Shipments by SFTP</h2>
<p>The Register Shipments API is ideal if you need to register shipments individually or in small groups. However, if you have a large number of shipments to register you might find it more practical to use REACT's SFTP upload facility.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>In order to upload to the REACT SFTP service, you will need a REACT SFTP account and private key. For more information on obtaining these details, see <a href="settings.md#setting-up-sftp-accounts">Setting up SFTP Accounts</a>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>REACT private keys are provided in PPK format. If your SFTP client does not support PPK keys then you will need to convert the key provided into the appropriate format. Consult your SFTP client's documentation for further information.</p>
</div>
<p>The shipment data you want to upload should be stored in either a JSON or CSV file. The shipment data in this file should be structured in the same way as the data accepted by the <strong>Register Shipments</strong> endpoint, with one exception: when uploading a CSV file, the property that accepts tracking references should be called <code>tracking_reference</code>, rather than <code>tracking_references</code> (plural) as is the case when uploading a JSON file or making a direct request to the <strong>Register Shipments</strong> endpoint.</p>
<div class="NOTE">
<h5>Note</h5>
<ul>
<li>For more information on representing shipment data in CSV format, see the <a href="registering-shipments.html#csv-file-structure">CSV File Structure</a> section.</li>
<li>For more information on the data structure of the <strong>Register Shipments</strong> requests, see the <a href="https://docs.sorted.com/react/api/#RegisterShipments">API Reference</a>.</li>
</ul>
</div>
<p>This example shows the body of a simple CSV upload, in which the user has registered the carrier tracking references of five shipments, along with the carriers and carrier services used for those shipments:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-3_csv-upload" role="tab" aria-controls="tabpanel_bHGHmlrG6S-3_csv-upload" data-tab="csv-upload" tabindex="0" aria-selected="true">CSV Upload</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-3_csv-upload" role="tabpanel" data-tab="csv-upload">

<pre><code>&quot;tracking_reference&quot;,&quot;carrier&quot;,&quot;carrier_service&quot;
&quot;TRACKING-DEMO-REFERENCE1&quot;,&quot;A Carrier&quot;,&quot;A Carrier Service&quot;
&quot;TRACKING-DEMO-REFERENCE2&quot;,&quot;Another Carrier&quot;,&quot;Another Carrier Service&quot;
&quot;TRACKING-DEMO-REFERENCE3&quot;,&quot;A Carrier&quot;,&quot;A Carrier Service&quot;
&quot;TRACKING-DEMO-REFERENCE4&quot;,&quot;Another Carrier&quot;,&quot;Another Carrier Service&quot;
&quot;TRACKING-DEMO-REFERENCE5&quot;,&quot;A Carrier&quot;,&quot;A Carrier Service&quot;
</code></pre>
</section>
</div>
<h3 id="uploading">Uploading</h3>
<p>To upload shipments to REACT via SFTP:</p>
<ol>
<li>Save the private key to the machine you will be uploading the files from.</li>
<li>From that machine, open an SFTP client and start a new SFTP session. You'll need the following login details:
<ul>
<li><strong>File Protocol:</strong> SFTP</li>
<li><strong>Host Name:</strong> sftp://react-sftp.sorted.com</li>
<li><strong>Port Number:</strong> 22</li>
<li>Your REACT SFTP <strong>username</strong> and <strong>passphrase</strong>.</li>
</ul>
</li>
<li>Upload the shipment file as per your SFTP client's instructions.</li>
</ol>
<h3 id="sftp-upload-results">SFTP Upload Results</h3>
<p>Once you have uploaded the file, REACT processes the shipment data sent. The system takes each individual shipment object in the file and attempts to register is using the data supplied. As the shipments are processed, REACT writes the result of each registration attempt to a JSON file.</p>
<p>Once REACT has attempted to register every shipment in the file, the original file is deleted and the results file is uploaded to your SFTP directory. The completed file gives a full breakdown of how many shipments were successfully registered, how many could not be registered, and any errors that were returned.</p>
<p>The results file has two arrays of errors:</p>
<ul>
<li><code>validation_errors</code>: Generated if the shipment could not be registered due to its data failing REACT's validation checks.</li>
<li><code>registration_errors</code>: Generated if the shipment passed REACT's validation but still could not be registered. (i.e. REACT's response to the shipment had a status code of something other than <strong>201 Created</strong> or  <strong>400 Bad Request</strong>.)</li>
</ul>
<h3 id="example-sftp-result-files">Example SFTP Result Files</h3>
<ul>
<li>The file contained a single shipment, which was successfully uploaded.</li>
</ul>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-4_sftp-result-file-1" role="tab" aria-controls="tabpanel_bHGHmlrG6S-4_sftp-result-file-1" data-tab="sftp-result-file-1" tabindex="0" aria-selected="true">SFTP Result File 1</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-4_sftp-result-file-1" role="tabpanel" data-tab="sftp-result-file-1">

<pre><code class="lang-json">{
  &quot;result_message&quot;:&quot;Results for processing file shipments-1-valid.json&quot;,
  &quot;original_filename&quot;:&quot;shipments-1-valid.json&quot;,
  &quot;total_lines&quot;:1,
  &quot;successful_shipment_registrations&quot;:1,
  &quot;unsucessful_shipment_registrations&quot;:0,
  &quot;validation_errors&quot;:[

  ],
  &quot;registration_errors&quot;:[

  ],
  &quot;error_message&quot;:null,
  &quot;process_start&quot;:&quot;2018-11-13T10:49:40.7613486+00:00&quot;,
  &quot;process_end&quot;:&quot;2018-11-13T10:49:41.0246588+00:00&quot;
}
</code></pre>
</section>
</div>

<ul>
<li>The file contained four shipments. One was registered successfully, one failed due to a validation error (in this case, duplicate <code>tracking_reference</code> values), and two failed due to errors during the registration process.</li>
</ul>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-5_sftp-result-file-2" role="tab" aria-controls="tabpanel_bHGHmlrG6S-5_sftp-result-file-2" data-tab="sftp-result-file-2" tabindex="0" aria-selected="true">SFTP Result File 2</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-5_sftp-result-file-2" role="tabpanel" data-tab="sftp-result-file-2">

<pre><code class="lang-json">{
  &quot;result_message&quot;:&quot;Results for processing file EXAMPLE-FILENAME&quot;,
  &quot;original_filename&quot;:&quot;EXAMPLE-FILENAME&quot;,
  &quot;total_lines&quot;:4,
  &quot;successful_shipment_registrations&quot;:1,
  &quot;unsucessful_shipment_registrations&quot;:3,
  &quot;validation_errors&quot;:
  [
    {
      &quot;tracking_reference&quot;:&quot;trackRef2&quot;,
      &quot;message&quot;:&quot;1 or more validation error(s) occurred&quot;,
      &quot;error_messages&quot;:
        [
          {
            &quot;property&quot;:&quot;shipments._tracking_reference&quot;,
            &quot;message&quot;:&quot;Only one Tracking Reference should be provided&quot;
          }
        ]
    }
  ],
  &quot;registration_errors&quot;:
  [
    {
      &quot;tracking_reference&quot;:&quot;trackRef3&quot;,
      &quot;error_message&quot;:&quot;We were unable to register this shipment status was Ambiguous&quot; 
    },
    {
      &quot;tracking_reference&quot;:&quot;trackRef4&quot;,
      &quot;error_message&quot;:&quot;We could not register this shipment as an error occured&quot;
    }
  ],
  &quot;error_message&quot;:null,
  &quot;process_start&quot;:&quot;2018-11-08T11:01:41.989049+00:00&quot;,
  &quot;process_end&quot;:&quot;2018-11-08T11:01:42.0460531+00:00&quot;
}
</code></pre>
</section>
</div>

<ul>
<li>The file could not be parsed at all, most likely due to an invalid structure:</li>
</ul>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-6_sftp-result-file-3" role="tab" aria-controls="tabpanel_bHGHmlrG6S-6_sftp-result-file-3" data-tab="sftp-result-file-3" tabindex="0" aria-selected="true">SFTP Result File 3</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-6_sftp-result-file-3" role="tabpanel" data-tab="sftp-result-file-3">

<pre><code class="lang-json">{
  &quot;result_message&quot;:&quot;There was a problem processing the file shipments-1-valid.csv&quot;,
  &quot;original_filename&quot;:&quot;shipments-1-valid.csv&quot;,
  &quot;total_lines&quot;:0,
  &quot;successful_shipment_registrations&quot;:0,
  &quot;unsucessful_shipment_registrations&quot;:0,
  &quot;validation_errors&quot;:[

  ],
  &quot;registration_errors&quot;:[

  ],
  &quot;error_message&quot;:&quot;Error parsing header from location cu-17583829045847028000-sorted-copy/shipments-1-valid-636777032692975629.csv for customer cu_17583829045847028000&quot;,
  &quot;process_start&quot;:&quot;2018-11-13T10:54:30.7505662+00:00&quot;,
  &quot;process_end&quot;:&quot;2018-11-13T10:54:34.2508169+00:00&quot;
}
</code></pre>
</section>
</div>

<p>You can upload multiple shipment files at the same time as long as the files have different names. If you attempt to upload two shipment files with the same name at the same time, or upload a file before another file of the same name has finished processing, then REACT will only process one file.</p>
<p>However, REACT will process files that have the same name as a file that has been previously uploaded, as long as it has already finished processing the first file.</p>
<h2 id="registering-shipments-by-email">Registering Shipments by Email</h2>
<p>REACT's Register by Email functionality enables you to register shipments in REACT without having to make an API call or SFTP upload. Registering shipments by email enables less-technical users, and those users who do not have access to make API calls or upload via SFTP, to set shipments up for tracking.</p>
<p>Each authorised Register by Email account has its own destination email address. Simply blind carbon copy (BCC) this address in to an email containing shipment details to register a new shipment.</p>
<h3 id="authorising-your-email-address">Authorising your Email Address</h3>
<p>In order to register shipments by email, you will first need to authorise your email address as a sender.</p>
<p>To authorise your email address:</p>
<ol>
<li><p>Click <strong>Settings &gt; Shipments by Email</strong> to display the <strong>Email Shipment Registration</strong> page.</p>
<p><img src="images/sbe1.png" alt="sbe1"></p>
</li>
<li><p>Click <strong>Edit</strong> on the <strong>Authorised Emails</strong> tile to display the <strong>Authorised Emails</strong> page.</p>
<p><img src="images/sbe2.png" alt="sbe2"></p>
</li>
<li><p>Click <strong>Add Email</strong> to display the <strong>Add Authorised Email</strong> page.</p>
<p><img src="images/sbe3.png" alt="sbe3"></p>
</li>
<li><p>Enter an <strong>Authorised Email Address</strong> and click the <strong>Make This Active</strong> check box.</p>
</li>
<li><p>Click <strong>Add</strong> to register the address. REACT displays a dialog containing an auto-generated unique registration email address.</p>
<p><img src="images/sbe4.png" alt="sbe4"></p>
</li>
<li><p>Make a note of the registration email address. This is the address you should send shipment data to from the email address that you registered.</p>
</li>
<li><p>Click <strong>Accept</strong> to close the dialog and return to the <strong>Authorised Emails</strong> page. The newly-authorised email address is displayed as a tile on this page.</p>
</li>
</ol>
<div class="NOTE">
<h5>Note</h5>
<p>The process of authorising your email address to register shipments is entirely separate from the account creation process. You will need to perform the process detailed above for every email address that you want to use to register shipments.</p>
</div>
<h3 id="managing-authorised-email-addresses">Managing Authorised Email Addresses</h3>
<p>You can edit your existing authorised email addresses from the <strong>Settings &gt; Shipments by Email &gt; Authorised Emails</strong> page.</p>
<p><img src="images/sbe5.png" alt="sbe5"></p>
<p><strong>Editing Existing Addresses</strong></p>
<p>To edit an existing address, click its <strong>Edit</strong> button. REACT displays the <strong>Editing Authorised Email</strong> page for that address. Make the required edits and click <strong>Update</strong> to save your changes.</p>
<p><strong>Deactivating Existing Addresses</strong></p>
<p>To deactivate an existing address, click the <strong>Active</strong> toggle on the address tile. The toggle switches to the <strong>Inactive</strong> position, confirming that the address has been deactivated.</p>
<p>Deactivating an address means that you can no longer use it to register shipments. However, its configuration is saved, and you can reactivate the address by clicking the toggle again.</p>
<p><strong>Deleting Existing Addresses</strong></p>
<p>To permanently delete an address, click its <strong>Delete</strong> button.</p>
<p>REACT displays a confirmation dialog. Click <strong>Yes</strong> to delete the address.</p>
<p>Deleting an address permanently removes all of its configuration. To reinstate a deleted address you would need to set it up again.</p>
<h3 id="sending-a-registration-email">Sending a Registration Email</h3>
<p>In order to register a shipment, blind carbon copy (BCC) your registration recipient email address in to an email containing an XML shipment object.</p>
<p>Include the details of the shipment in the body of your email. Unlike the JSON objects used in REACT API calls, a shipment sent by email must be represented as an XML object. For security reasons, the properties of the XML object must be empty, with the shipment values you want to register expressed as XML <code>value</code> attributes within each tag.</p>
<div class="NOTE">
<h5>Note</h5>
<p>You can only register shipments by blind-copying your recipient email address into a shipment. The registration will not work if you send the email to the recipient directly.</p>
<p>This process enables you to register shipments using, for example, the delivery dispatch notifications you send to your customers. In order to do so, you would send the email to the end customer but BCC the registration recipient into the same email, as well as adding the relevant XML shipment details to the body of the notification.</p>
</div>
<p>The example below shows a blank shipment record in valid Register by Email format.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-7">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-7_email-example" role="tab" aria-controls="tabpanel_bHGHmlrG6S-7_email-example" data-tab="email-example" tabindex="0" aria-selected="true">Email Example</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-7_email-example" role="tabpanel" data-tab="email-example">

<pre><code class="lang-xml">&lt;react_shipments&gt;
  &lt;react_shipment&gt;
    &lt;react_tracking_reference value=&quot;x&quot; /&gt;
    &lt;react_tracking_reference value=&quot;y&quot; /&gt;
    &lt;react_package_tracking_reference value=&quot;x&quot; /&gt;
    &lt;react_custom_reference value=&quot;x&quot; /&gt;
    &lt;react_custom_reference value=&quot;y&quot; /&gt;
    &lt;react_tags value=&quot;x&quot; /&gt;
    &lt;react_tags value=&quot;y&quot; /&gt;
    &lt;react_carrier value=&quot;x&quot; /&gt;
    &lt;react_carrier_reference value=&quot;x&quot; /&gt;
    &lt;react_carrier_service value=&quot;x&quot; /&gt;
    &lt;react_shipped_date value=&quot;x&quot; /&gt;
    &lt;react_order_date value=&quot;x&quot; /&gt;
    &lt;react_promised_date_start value=&quot;x&quot; /&gt;
    &lt;react_promised_date_end value=&quot;x&quot; /&gt;
    &lt;react_expected_delivery_date_start value=&quot;x&quot; /&gt;
    &lt;react_expected_delivery_date_end value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_address_type value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_address_reference value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_property_number value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_property_name value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_address_line1 value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_address_line2 value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_address_line3 value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_locality value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_region value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_postal_code value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_country_iso_code value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_lat_long_latitude value=&quot;x&quot; /&gt;
    &lt;react_addresses_0_lat_long_longitude value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_address_type value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_address_reference value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_property_number value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_property_name value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_address_line1 value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_address_line2 value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_address_line3 value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_locality value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_region value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_postal_code value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_country_iso_code value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_lat_long_latitude value=&quot;x&quot; /&gt;
    &lt;react_addresses_1_lat_long_longitude value=&quot;x&quot; /&gt;
    &lt;react_consumer_reference value=&quot;x&quot; /&gt;
    &lt;react_consumer_email value=&quot;x&quot; /&gt;
    &lt;react_consumer_phone value=&quot;x&quot; /&gt;
    &lt;react_consumer_mobile_phone value=&quot;x&quot; /&gt;
    &lt;react_consumer_first_name value=&quot;x&quot; /&gt;
    &lt;react_consumer_last_name value=&quot;x&quot; /&gt;
    &lt;react_consumer_middle_name value=&quot;x&quot; /&gt;
    &lt;react_consumer_title value=&quot;x&quot; /&gt;
    &lt;react_retailer value=&quot;x&quot; /&gt;
    &lt;react_metadata value=&quot;x&quot; key=&quot;k&quot; type=&quot;t&quot; /&gt;
    &lt;react_metadata value=&quot;y&quot; key=&quot;l&quot; type=&quot;s&quot; /&gt;
    &lt;react_shipment_type value=&quot;x&quot; /&gt;
    &lt;react_shipping_location_reference value=&quot;x&quot; /&gt;
    &lt;react_tenant_reference value=&quot;x&quot; /&gt;
    &lt;react_channel_reference value=&quot;x&quot; /&gt;
  &lt;/react_shipment&gt;
&lt;/react_shipments&gt;
</code></pre>
</section>
</div>

<p>The available properties are the same as a standard shipment request, as detailed in the <a href="https://docs.sorted.com/react/api/#RegisterShipments">REACT API Reference</a>. Only the format of the request is different.</p>
<p>As with other methods of registration, only the <code>tracking_references</code> property is mandatory when registering shipments by email. All other properties are optional.</p>
<p>If required, you can add additional content to the email before or after the shipment object.</p>
<p>You can register multiple shipments in the same email using the format below:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-8">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-8_multiple-shipments" role="tab" aria-controls="tabpanel_bHGHmlrG6S-8_multiple-shipments" data-tab="multiple-shipments" tabindex="0" aria-selected="true">Multiple Shipments</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-8_multiple-shipments" role="tabpanel" data-tab="multiple-shipments">

<pre><code class="lang-xml">&lt;react_shipments&gt;
  &lt;react_shipment&gt;
    x
  &lt;/react_shipment&gt;
  &lt;react_shipment&gt;
    y
  &lt;/react_shipment&gt;
&lt;/react_shipments&gt;
</code></pre>
</section>
</div>
<h3 id="register-by-email-worked-example">Register by Email Worked Example</h3>
<p>The example below shows the same shipment represented in both JSON (as per a <strong>Register Shipments</strong> API call) and XML (as per a Register by Email request).</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-9">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-9_json-api" role="tab" aria-controls="tabpanel_bHGHmlrG6S-9_json-api" data-tab="json-api" tabindex="0" aria-selected="true">JSON (API)</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-9_xml-email" role="tab" aria-controls="tabpanel_bHGHmlrG6S-9_xml-email" data-tab="xml-email" tabindex="-1">XML (email)</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-9_json-api" role="tabpanel" data-tab="json-api">

<pre><code class="lang-json">{
  &quot;shipments&quot;: [
    {
      &quot;tags&quot;: [
        &quot;BRAND_X&quot;,
        &quot;Dewsbury_Hub&quot;
      ],
      &quot;tracking_references&quot;: [
        &quot;TRK098JKH54ADD&quot;
      ],
      &quot;custom_references&quot;: [
        &quot;af6fd78ce0754de5887924e0f16e8e94&quot;,
        &quot;HB-003&quot;
      ],
      &quot;carrier&quot;: &quot;Carrier X&quot;,
      &quot;carrier_service&quot;: &quot;Next Day Priority&quot;,
      &quot;shipped_date&quot;: &quot;2021-05-28T00:00:00+00:00&quot;,
      &quot;order_date&quot;: &quot;2021-05-28T00:00:00+00:00&quot;,
      &quot;promised_date&quot;: {
        &quot;start&quot;: &quot;2021-06-04T09:00:00+00:00&quot;,
        &quot;end&quot;: &quot;2021-06-04T12:00:00+00:00&quot;
      },
      &quot;addresses&quot;: [
        {
          &quot;address_type&quot;: &quot;origin&quot;,
          &quot;reference&quot;: &quot;bf4a06df5e0e4ad7a14f3f0c512bd19a&quot;
        },
        {
          &quot;address_type&quot;: &quot;destination&quot;,
          &quot;postal_code&quot;: &quot;N2 3FD&quot;,
          &quot;country_iso_code&quot;: &quot;GB&quot;
        }
      ],
      &quot;consumer&quot;: {
        &quot;reference&quot;: &quot;Kxa57jtLbUWVoLnz5QpVEg&quot;,
        &quot;email&quot;: &quot;frankie_smith100@outlook.com&quot;,
        &quot;phone&quot;: &quot;+44161559844&quot;,
        &quot;mobile_phone&quot;: &quot;+447395654853&quot;,
        &quot;first_name&quot;: &quot;Francesca&quot;,
        &quot;last_name&quot;: &quot;Smith&quot;,
        &quot;middle_name&quot;: &quot;Helena&quot;,
        &quot;title&quot;: &quot;Ms&quot;
      },
      &quot;metadata&quot;: [
        {
          &quot;key&quot;: &quot;warehouse_identifier&quot;,
          &quot;value&quot;: &quot;WHF-0099282323A6&quot;,
          &quot;type&quot;: &quot;String&quot;
        },
        {
          &quot;key&quot;: &quot;refundable&quot;,
          &quot;value&quot;: &quot;false&quot;,
          &quot;type&quot;: &quot;Boolean&quot;
        },
        {
          &quot;key&quot;: &quot;expiration_date&quot;,
          &quot;value&quot;: &quot;2025-10-03T00:00&quot;,
          &quot;type&quot;: &quot;DateTime&quot;
        }
      ],
      &quot;retailer&quot;: &quot;Smith &amp; Gold GmbH&quot;,
      &quot;shipment_type&quot;: &quot;delivery&quot;
    }
  ]
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-9_xml-email" role="tabpanel" data-tab="xml-email" aria-hidden="true" hidden="hidden">

<pre><code class="lang-xml">&lt;react_shipments&gt;
  &lt;react_shipment&gt;
    &lt;react_tracking_reference value=&quot;TRK098JKH54ADD&quot; /&gt;
    &lt;react_custom_reference value=&quot;af6fd78ce0754de5887924e0f16e8e94&quot; /&gt;
    &lt;react_custom_reference value=&quot;HB-003&quot; /&gt;
    &lt;react_tags value=&quot;BRAND_X&quot;/&gt;
    &lt;react_tags value=&quot;Dewsbury_Hub&quot; /&gt;
    &lt;react_carrier value=&quot;Carrier X&quot; /&gt;
    &lt;react_carrier_service value=&quot;Next Day Priority&quot; /&gt;
    &lt;react_shipped_date value=&quot;2021-05-28T00:00:00+00:00&quot; /&gt;
    &lt;react_order_date value=&quot;2021-05-28T00:00:00+00:00&quot; /&gt;
    &lt;react_promised_date_start value=&quot;2021-06-04T09:00:00+00:00&quot; /&gt;
    &lt;react_promised_date_end value=&quot;2021-06-04T12:00:00+00:00&quot; /&gt;
    &lt;react_addresses_0_address_type value=&quot;origin&quot; /&gt;
    &lt;react_addresses_0_address_reference value=&quot;bf4a06df5e0e4ad7a14f3f0c512bd19a&quot; /&gt;
    &lt;react_addresses_1_address_type value=&quot;destination&quot; /&gt;
    &lt;react_addresses_1_postal_code value=&quot;N2 3FD&quot; /&gt;
    &lt;react_addresses_1_country_iso_code value=&quot;GB&quot; /&gt;
    &lt;react_consumer_reference value=&quot;Kxa57jtLbUWVoLnz5QpVEg&quot; /&gt;
    &lt;react_consumer_email value=&quot;frankie_smith100@outlook.com&quot; /&gt;
    &lt;react_consumer_phone value=&quot;+44161559844&quot; /&gt;
    &lt;react_consumer_mobile_phone value=&quot;+447395654853&quot; /&gt;
    &lt;react_consumer_first_name value=&quot;Francesca&quot; /&gt;
    &lt;react_consumer_last_name value=&quot;Smith&quot; /&gt;
    &lt;react_consumer_middle_name value=&quot;Helena&quot; /&gt;
    &lt;react_consumer_title value=&quot;Ms&quot; /&gt;
    &lt;react_retailer value=&quot;Smith &amp; Gold GmbH&quot; /&gt;
    &lt;react_metadata value=&quot;warehouse_identifier&quot; key=&quot;WHF-0099282323A6&quot; type=&quot;String&quot; /&gt;
    &lt;react_metadata value=&quot;refundable&quot; key=&quot;false&quot; type=&quot;Boolean&quot; /&gt;
    &lt;react_metadata value=&quot;expiration_date&quot; key=&quot;2025-10-03T00:00&quot; type=&quot;DateTime&quot; /&gt;    
    &lt;react_shipment_type value=&quot;delivery&quot; /&gt;
  &lt;/react_shipment&gt;
&lt;/react_shipments&gt;
</code></pre>
</section>
</div>
<h3 id="viewing-invalid-register-shipment-files">Viewing Invalid Register Shipment Files</h3>
<p>If you send a file to the Register by Email service that does not pass validation, then REACT creates an Invalid Register Shipment record detailing the issue. To see a list of your Invalid Register Shipment files, select <strong>Settings &gt; Shipments by Email &gt; Invalid Register Shipment Files</strong>.</p>
<h2 id="assigning-a-carrier-on-registration">Assigning a Carrier on Registration</h2>
<p>You can specify a shipment's carrier at the point of registration using the <code>carrier_reference</code> property. <code>carrier_reference</code> is not a mandatory property, but Sorted recommends that you provide carrier details where possible. If you provide a <code>carrier_reference</code>, then REACT can instantly link your shipment to the correct carrier and begin receiving tracking information sooner than it would otherwise be able to.</p>
<p>Where provided, the <code>carrier_reference</code> property must contain a carrier's unique REACT ID. If you provide any other value in a <code>carrier_reference</code> property, then REACT returns a <code>400 - Bad Request</code> validation error.</p>
<h3 id="looking-up-carrier-references">Looking Up Carrier References</h3>
<p>Each REACT carrier has its own identifier within the system. The table below shows the unique IDs for some common REACT carriers:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hermes UK</td>
<td><code>26432E9D-73CB-44EF-ABB5-164088A93ABE</code></td>
</tr>
<tr>
<td>ArrowXL</td>
<td><code>E2B36840-4032-49A9-981F-44A7097AFDFE</code></td>
</tr>
<tr>
<td>DHL Express</td>
<td><code>532D2CE2-79DC-4E24-840C-C75A37CF02DC</code></td>
</tr>
<tr>
<td>DPD Local UK</td>
<td><code>F8714833-FB20-45DE-8563-CDE2D8EFA985</code></td>
</tr>
<tr>
<td>Asda toyou</td>
<td><code>F1535C2B-10C8-4D43-9976-11848DEA013D</code></td>
</tr>
<tr>
<td>P2P TRAKPAK</td>
<td><code>19E6AEA5-278D-476A-8576-D4DBC3C2DD94</code></td>
</tr>
<tr>
<td>Yodel</td>
<td><code>77B7A461-E3B3-4B2C-9B90-2F42FE4BFC25</code></td>
</tr>
<tr>
<td>Royal Mail</td>
<td><code>B5096289-91F4-49E2-9B8E-018964877C5E</code></td>
</tr>
<tr>
<td>DHL Parcel UK</td>
<td><code>FFC0644D-B570-413F-A6B8-CC4F20B491A0</code></td>
</tr>
<tr>
<td>DPD UK</td>
<td><code>D1FB3EA4-7AA4-4D50-B1F3-9AF69A582038</code></td>
</tr>
<tr>
<td>Parcelforce</td>
<td><code>57E2A30D-368B-4F42-9E20-5F6B3A5115BC</code></td>
</tr>
<tr>
<td>Lineten</td>
<td><code>00e32b3c-87d6-4fe3-ad79-d21133469eae</code></td>
</tr>
<tr>
<td>TNT</td>
<td><code>385a136e-8a1a-405f-b6a8-35bd7e2c7bd8</code></td>
</tr>
<tr>
<td>FedEx</td>
<td><code>5FE878CB-32BF-4221-B2BF-45C89739825D</code></td>
</tr>
<tr>
<td>DPD Germany</td>
<td><code>0b664aa8-da77-4f97-ab44-0749acbe8ccb</code></td>
</tr>
<tr>
<td>DHL Paket</td>
<td><code>6A7657AE-EB7E-459F-B3A8-1A6C10D8B205</code></td>
</tr>
<tr>
<td>UPS</td>
<td><code>121DB19E-8356-428A-BB6C-4A53DA8C0389</code></td>
</tr>
<tr>
<td>Jersey Post</td>
<td><code>911a07c3-3e48-4875-bd07-cf1b37465c33</code></td>
</tr>
<tr>
<td>DX Freight</td>
<td><code>e48028d6-35b7-48a8-a542-4c7edb4dbee1</code></td>
</tr>
<tr>
<td>Panther</td>
<td><code>e75a59d7-205e-b1a8-b8ad-e1786de37e21</code></td>
</tr>
<tr>
<td>APG</td>
<td><code>50d10273-d750-4cdc-8db9-c70bd9099b69</code></td>
</tr>
<tr>
<td>Asendia</td>
<td><code>0F7FD87E-3F95-4203-A397-11F81DC2C4DA</code></td>
</tr>
<tr>
<td>Fastway</td>
<td><code>2539E909-6C0B-4D70-8C3E-2CE4CD16CA4C</code></td>
</tr>
<tr>
<td>Landmark Global</td>
<td><code>e9d32156-bac3-4f15-b658-ae6e460212d0</code></td>
</tr>
<tr>
<td>Collectplus</td>
<td><code>B3109373-EF07-4A2E-B5FA-89283BE33691</code></td>
</tr>
</tbody>
</table>
<p>REACT is continually being updated with new carriers, and as such the table above should not be considered an exhaustive list. You can look up a carrier reference in the REACT UI via the <strong>Carrier Connectors</strong> page. To do so:</p>
<ol>
<li><p>Log in to the REACT UI and select the <strong>Settings &gt; Carrier Connectors</strong> page.</p>
</li>
<li><p>Click the <strong>Edit</strong> button on the tile of the carrier you want to look up to display the <strong>Edit Configuration</strong> page for that carrier.</p>
<p><img src="images/assign-carrier1.png" alt="assign-carrier1"></p>
</li>
<li><p>Scroll to the bottom of the page. The carrier's reference is displayed in the <strong>Carrier Reference</strong> field.</p>
<p><img src="images/assign-carrier2.png" alt="assign-carrier2"></p>
</li>
</ol>
<h2 id="registering-extra-shipment-information">Registering Extra Shipment Information</h2>
<p>Registering shipments with a carrier tracking reference alone is enough to get started with REACT's tracking features, but REACT works best when you give it more shipment data to use.</p>
<div class="NOTE">
<h5>Note</h5>
<p>This section gives an overview of the extra information you can provide when registering a shipment. For full details of all the properties accepted by the <strong>Register Shipments</strong> endpoint, and the structure you should use when making the request, see the <a href="https://docs.sorted.com/react/api/#RegisterShipments">API Reference</a>.</p>
</div>
<p>The <strong>Register Shipments</strong> endpoint enables you to register:</p>
<ul>
<li><p><strong>References</strong> - As well as the mandatory carrier tracking reference array, you can also register additional <code>custom_references</code> for the shipment. Custom references do not need to be unique (i.e. you can register the same custom reference for multiple shipments if required), but we would recommend that you use unique custom references where possible to help you retrieve shipment data easily.</p>
</li>
<li><p><strong>Tags</strong> - Tags enable you to associate related shipments (such as all shipments of a particular product, or all shipments of products on special offer) with each other. You can also use tags to select the shipments that go into your shipment filters.</p>
<div class="NOTE">
<h5>Note</h5>
<p>You can add up to 20 tags to a shipment, and each tag must be between three and 30 characters long. If you attempt to add more than 20 tags then only the first 20 are stored. Tags are not case-sensitive, and you cannot add duplicate tags within the same shipment.</p>
</div>
</li>
<li><p><strong>Dates</strong> - The <code>order_date</code>, <code>shipped_date</code> and <code>promised_date</code> properties enable you to record when a shipment was ordered and shipped, and when the customer was told that it would be delivered.</p>
</li>
<li><p><strong>Addresses</strong> - The <code>addresses</code> array enables you to record multiple addresses against a single shipment. You can record origin, destination, return, billing, delivery hub, and alternative delivery addresses.</p>
</li>
<li><p><strong>Consumer Info</strong> - The <code>consumer</code> array enables you to record your customer's contact details.</p>
</li>
<li><p><strong>Shipment Types</strong> - The <code>shipment_type</code> property enables you to record whether a shipment is a delivery, return, pick up, drop off, combined drop off / pick up, or return drop off.</p>
</li>
<li><p><strong>Custom Metadata</strong> - You can specify custom metadata properties using the <code>metadata</code> array. Each property requires a <code>key</code>, <code>value</code>, and data <code>type</code>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Adding metadata enables you to group shipments together so that they can be tracked from the same page, and to use custom properties to enrich the notifications that you send to your customers.</p>
<ul>
<li>For more information on grouping shipments, see the <a href="grouping-shipments.md">Grouping Shipments</a> page.</li>
<li>For more information on configuring notifications, see the <a href="notifications.md">Configuring Notifications</a> page.</li>
</ul>
</div>
</li>
<li><p><strong>Simulated Tracking</strong> - Simulated tracking is a means of generating dummy tracking events for testing or demonstration purposes. For a user guide on working with simulated tracking, see the <a href="using-simulated-tracking.html">Using Simulated Tracking</a>.</p>
</li>
</ul>
<h3 id="why-register-additional-information">Why Register Additional Information?</h3>
<p>If you only provide a carrier reference when registering then REACT is limited to reporting back on what the carrier says about that particular shipment. Providing additional information enables REACT to do the following:</p>
<ul>
<li><p><strong>Offer flexible retrieval options</strong> - Some of REACT's API endpoints enable you to retrieve shipments, events or tracking events based on criteria other than REACT <code>{id}</code> numbers or carrier references. For example, you can use the <a href="https://docs.sorted.com/react/api/#GetShipments">Get Shipments</a> endpoint to retrieve shipment details based on custom references, such as your own internal order number for the shipment in    question. However, REACT can only return a shipment via custom reference if you've previously supplied a custom reference for that shipment.</p>
<p>Also, adding <code>tags</code> to your shipments enables you to fine-tune the list of shipments that you receive webhooks for. For example, you might have a &quot;Special-Offer&quot; tag that you would apply to shipments of products in a particular sale. You could then set up a shipment filter including only those shipments with your &quot;Special-Offer&quot; tag. This shipment filter could in turn be used to power a webhook sending branded offer-specific delivery communications to customers who have purchased products in the sale.</p>
</li>
<li><p><strong>Provide rich webhook and API results</strong> - Adding additional shipment data enables REACT's webhooks and APIs to return richer results. When triggered, webhooks send a <code>ShipmentEvents</code> object to you. As well as event details, this object contains a <code>ShipmentSummary</code> - an overview of the data REACT holds on the shipment in question. The more information REACT holds on the shipment, the more useful this <code>ShipmentSummary</code> will be.</p>
</li>
<li><p><strong>Offer enhanced UI functionality</strong> - You will need to provide additional shipment information in order to use the Dashboard's data filters. You can filter Dashboard data by carrier, state, country of origin, destination country, important dates, and shipment type, but only for those shipments that have the relevant information recorded. In addition, shipments will only show up on the <strong>States</strong> dashboard map if they have an address with an <code>address_type</code> of <em>Origin</em>.</p>
</li>
<li><p><strong>Use Calculated Properties</strong> - If you add a <code>promised_date</code> to your shipments then REACT can automatically mark shipments as late where required. Likewise, adding a <code>country_iso_code</code> for both destination and origin addresses enables REACT to perform <code>may_be_missing</code> calculations, in which it marks a shipment as potentially missing if that shipment is not updated for a set period of time.</p>
</li>
</ul>
<h3 id="example-detailed-json-request">Example Detailed JSON Request</h3>
<p>The following example shows a shipment registered with additional detail on tags, dates, consumer information, and custom tracking references. For full details of all the properties accepted by the <strong>Register Shipments</strong> endpoint, see the <a href="https://docs.sorted.com/react/api/#RegisterShipments">API Reference</a>.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-10">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-10_detailed-register-shipment-request" role="tab" aria-controls="tabpanel_bHGHmlrG6S-10_detailed-register-shipment-request" data-tab="detailed-register-shipment-request" tabindex="0" aria-selected="true">Detailed Register Shipment Request</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-10_detailed-register-shipment-request" role="tabpanel" data-tab="detailed-register-shipment-request">

<pre><code class="lang-json">{
  &quot;shipments&quot;: [
    {
      &quot;tags&quot;: [
        &quot;Special_Offer&quot;,
        &quot;BRAND_X&quot;,
        &quot;DTWD&quot;
      ],
      &quot;tracking_references&quot;: [
        &quot;TRK098JKH54ADD&quot;
      ],
      &quot;custom_references&quot;: [
        &quot;fb60aa0f3e2d4247b8e01c659d621b8e&quot;,
        &quot;HB-003&quot;
      ],
      &quot;carrier_reference&quot;: &quot;F1535C2B-10C8-4D43-9976-11848DEA013D&quot;,
      &quot;shipped_date&quot;: &quot;2018-11-12T00:00:00+00:00&quot;,
      &quot;order_date&quot;: &quot;2018-11-12T00:00:00+00:00&quot;,
      &quot;promised_date&quot;: {
        &quot;start&quot;: &quot;2018-11-19T09:00:00+00:00&quot;,
        &quot;end&quot;: &quot;2018-11-19T12:00:00+00:00&quot;
      },
      &quot;addresses&quot;: [
        {
          &quot;address_type&quot;: &quot;origin&quot;,
          &quot;reference&quot;: &quot;555d66aa24864fbdae58d8c13afb51e0&quot;
        },
        {
          &quot;address_type&quot;: &quot;destination&quot;,
          &quot;postal_code&quot;: &quot;N2 3FD&quot;,
          &quot;country_iso_code&quot;: &quot;GB&quot;
        }
      ],
      &quot;consumer&quot;: {
        &quot;reference&quot;: &quot;JYvkxEdlxE2Xeiv2W5W8TA&quot;,
        &quot;email&quot;: &quot;frankie_smith100@outlook.com&quot;,
        &quot;phone&quot;: &quot;+44161559844&quot;,
        &quot;mobile_phone&quot;: &quot;+447395654853&quot;,
        &quot;first_name&quot;: &quot;Francesca&quot;,
        &quot;last_name&quot;: &quot;Smith&quot;,
        &quot;middle_name&quot;: &quot;Helena&quot;,
        &quot;title&quot;: &quot;Ms&quot;
      },
      &quot;metadata&quot;: [
        {
          &quot;key&quot;: &quot;warehouse_identifier&quot;,
          &quot;value&quot;: &quot;WHF-0099282323A6&quot;,
          &quot;type&quot;: &quot;String&quot;
        },
        {
          &quot;key&quot;: &quot;refundable&quot;,
          &quot;value&quot;: &quot;false&quot;,
          &quot;type&quot;: &quot;Boolean&quot;
        },
        {
          &quot;key&quot;: &quot;expiration_date&quot;,
          &quot;value&quot;: &quot;2025-10-03T00:00&quot;,
          &quot;type&quot;: &quot;DateTime&quot;
        }
      ],
      &quot;retailer&quot;: &quot;Smith &amp; Gold GmbH&quot;,
      &quot;shipment_type&quot;: &quot;delivery&quot;
    }
  ]
}
</code></pre>
</section>
</div>

<p>This example has values specified in the <code>custom_references</code> array. These could be internal order numbers, customer references, or anything else you choose. Now that REACT has been given this data, you could use these references to retrieve information via the <strong>Get Shipment Events</strong> and <strong>Get Shipments</strong> endpoints.</p>
<p>In this case, the metadata array has been used to add a warehouse SKU, indicate whether the shipment is refundable, and provide an expiration data for the shipment contents.</p>
<p>REACT validates all <strong>Register Shipment</strong> requests in line with the rules set out in the API reference. Where an uploaded shipment does not meet this validation, REACT returns an error.</p>
<h2 id="csv-file-structure">CSV File Structure</h2>
<p>Adding additional information when registering shipments via SFTP may require you to represent complex objects in your CSV. CSV objects are represented as <code>[object name]/[property name]</code>. Objects can be nested within objects using the syntax <code>[Parent object name]/[Child object name]/[property name]</code>.</p>
<p>Where an object can take multiple records (such as the <code>addresses</code> object, which can be used to record multiple addresses against a single shipment), a record number is added directly after each instance of the object in question. Record numbers should start from 0.</p>
<p>For example, multiple <code>addresses</code> could be represented as:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-11">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-11_csv-multiple-addresses" role="tab" aria-controls="tabpanel_bHGHmlrG6S-11_csv-multiple-addresses" data-tab="csv-multiple-addresses" tabindex="0" aria-selected="true">CSV - Multiple Addresses</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-11_csv-multiple-addresses" role="tabpanel" data-tab="csv-multiple-addresses">

<pre><code>&quot;&quot;addresses/0/address_type&quot;,&quot;addresses/0/postal_code&quot;,&quot;addresses/0/lat_long/latitude&quot;,&quot;addresses/0/lat_long/longitude&quot;,&quot;addresses/1/address_type&quot;,&quot;addresses/1/postal_code&quot;,&quot;addresses/1/lat_long/latitude&quot;,&quot;addresses/1/lat_long/longitude&quot;
&quot;origin&quot;,&quot;ST4 4EG&quot;,&quot;123&quot;,&quot;456&quot;,&quot;destination&quot;,&quot;M33 5EW&quot;,&quot;789&quot;,&quot;012&quot;

</code></pre>
</section>
</div>
<h3 id="examples">Examples</h3>
<p>The following examples represent the same data structure:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-12">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-12_json" role="tab" aria-controls="tabpanel_bHGHmlrG6S-12_json" data-tab="json" tabindex="0" aria-selected="true">JSON</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-12_csv" role="tab" aria-controls="tabpanel_bHGHmlrG6S-12_csv" data-tab="csv" tabindex="-1">CSV</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-12_json" role="tabpanel" data-tab="json">

<pre><code class="lang-json">{
  &quot;shipments&quot;: [
    {
      &quot;tracking_references&quot;: [
        &quot;TRK098JKH54ADD&quot;
      ],
      &quot;custom_references&quot;: [
        &quot;29ab72c406a94efb8e0797deb309ee4d&quot;,
        &quot;HB-003&quot;
      ],
      &quot;carrier_reference&quot;: &quot;F1535C2B-10C8-4D43-9976-11848DEA013D&quot;,
      &quot;addresses&quot;: [
        {
          &quot;address_type&quot;: &quot;origin&quot;,
          &quot;postal_code&quot;: &quot;ST4 4EG&quot;,
          &quot;lat_long&quot;: {
            &quot;latitude&quot;: &quot;80&quot;,
            &quot;longitude&quot;: &quot;179&quot;
          }, 
        },
        {
          &quot;address_type&quot;: &quot;destination&quot;,
          &quot;postal_code&quot;: &quot;N2 3FD&quot;,
          &quot;country_iso_code&quot;: &quot;GB&quot;
        }
      ],
    }
  ]
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-12_csv" role="tabpanel" data-tab="csv" aria-hidden="true" hidden="hidden">

<pre><code>&quot;tracking_reference&quot;,&quot;custom_references/0&quot;,&quot;custom_references/1&quot;,&quot;carrier_reference&quot;,&quot;addresses/0/address_type&quot;,&quot;addresses/0/postal_code&quot;,&quot;addresses/0/lat_long/latitude&quot;,&quot;addresses/0/lat_long/longitude&quot;,&quot;addresses/1/address_type&quot;,&quot;addresses/1/postal_code&quot;,&quot;addresses/1/country_iso_code&quot;
&quot;TRK098JKH54ADD&quot;,&quot;29ab72c406a94efb8e0797deb309ee4d&quot;,&quot;HB-003&quot;,&quot;F1535C2B-10C8-4D43-9976-11848DEA013D&quot;,&quot;origin&quot;,&quot;ST4 4EG&quot;,&quot;123&quot;,&quot;456&quot;,&quot;destination&quot;,&quot;N2 3FD&quot;,&quot;GB&quot;
</code></pre>
</section>
</div>

<div class="NOTE">
<h5>Note</h5>
<p>By default, shipments are archived 35 days after registration. Archived shipments are no longer available on the REACT platform.</p>
</div>
<h2 id="next-steps">Next Steps</h2>
<p>Learn more about integrating with REACT:</p>
<ul>
<li><a href="retrieving-data.html">Retrieving Shipment and Event Data</a></li>
<li><a href="updating-shipments.html">Updating Shipments</a></li>
<li><a href="error-codes.html">Error Codes</a></li>
</ul>

</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary" id="docfx-side-menu">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © Sorted Group 2021. Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    <script type="text/javascript" src="../../styles/styleswitcher.js"></script>
    <script type="text/javascript" src="../../styles/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: false
        });
    
        window.onload = function() {
            const elements = document.getElementsByClassName("lang-mermaid");
            let index = 0;
    
            while (elements.length != 0) {
                let element = elements[0];
                mermaid.render('graph'+ index, element.innerText, (svgGraph) => {
                    element.parentElement.outerHTML = "<div class='mermaid'>" + svgGraph + "</div>";
                });
                index++;
            }
    
            addCodeCopyWrapper();
            identifyStatusCodes();
        };
    
        function addCodeCopyWrapper() {
            document.querySelectorAll('code.hljs').forEach(function (codeBlock) {
    
                var pre = codeBlock.parentNode;
    
                var containingDiv = document.createElement('div');
                containingDiv.className = 'code-copy';
    
                wrap(pre, containingDiv);
            });
            
            if (navigator && navigator.clipboard) {
                addCopyButtons(navigator.clipboard);
            } else {
                var script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js';
                script.integrity = 'sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=';
                script.crossOrigin = 'anonymous';
                script.onload = function() {
                    addCopyButtons(clipboard);
                };
    
                document.body.appendChild(script);
            }
        }
    
        function wrap(el, wrapper) {
            el.parentNode.insertBefore(wrapper, el);
            wrapper.appendChild(el);
        }
    
        function addCopyButtons(clipboard) {
            document.querySelectorAll('pre > code').forEach(function (codeBlock) {
                var button = document.createElement('button');
                button.className = 'copy-code-button';
                button.type = 'button';
    
                button.addEventListener('click', function () {
                    clipboard.writeText(codeBlock.innerText).then(function () {
                        successCopyButtonState(button);
                    }, function (error) {
                        defaultCopyButtonState(button);
                    });
                });
    
                var pre = codeBlock.parentNode;
                if (pre.parentNode.classList.contains('highlight')) {
                    var highlight = pre.parentNode;
                    highlight.parentNode.insertBefore(button, highlight);
                } else {
                    pre.parentNode.insertBefore(button, pre);
                }
    
                defaultCopyButtonState(button);
            });
        }
    
        function defaultCopyButtonState(button) {
    
            button.classList.remove('copy-success');
            button.innerText = '';
    
            var buttonSpanIcon = document.createElement('span');
            buttonSpanIcon.className = 'glyphicon glyphicon-copy';
            var buttonSpanText = document.createElement('span');
            buttonSpanText.innerText = 'Copy';
            buttonSpanText.classList.add('copy');
    
            button.appendChild(buttonSpanIcon);
            button.appendChild(buttonSpanText);
        }
    
        function successCopyButtonState(button) {
            button.blur();
    
            button.innerText = '';
    
            var buttonSpanOkIcon = document.createElement('span');
            buttonSpanOkIcon.className = 'glyphicon glyphicon-ok';
    
            button.appendChild(buttonSpanOkIcon);
    
            button.classList.add('copy-success');
    
            setTimeout(function () {
                defaultCopyButtonState(button);
            }, 2000);
        }
    
        function identifyStatusCodes() {
            document.querySelectorAll('.endpoint code').forEach(function (e) {
                highlightStatusCodes(e);
            });
        }
    
        function highlightStatusCodes(el) {
    
            var codePrefix = el.innerText.substring(0,1);
            
            if (typeof codePrefix === 'undefined' || codePrefix == null) {
                return;
            }
    
            if (codePrefix == "2") {
                el.classList.add('code-success');
                return;
            }
    
            if (codePrefix == "3") {
                el.classList.add('code-warning');
                return;
            }
    
            if (codePrefix == "4" || codePrefix == "5") {
                el.classList.add('code-error');
                return;
            }
        }
    </script>  </body>
</html>
